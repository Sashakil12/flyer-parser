shakil@shakil-dev:/mnt/B868DDDE68DD9B86/badiyala-flyer-parser$ pnpm dev

> badiyala-flyer-parser@1.0.0 dev /mnt/B868DDDE68DD9B86/badiyala-flyer-parser
> next dev

  ‚ñ≤ Next.js 14.2.31
  - Local:        http://localhost:3000
  - Environments: .env.local

 ‚úì Starting...
 ‚ö† Invalid next.config.js options detected: 
 ‚ö†     Unrecognized key(s) in object: 'appDir' at "experimental"
 ‚ö† See more info here: https://nextjs.org/docs/messages/invalid-next-config
 ‚úì Ready in 7.7s
 ‚óã Compiling / ...
 ‚úì Compiled / in 1064ms (266 modules)
 ‚óã Compiling /_not-found ...
 ‚úì Compiled /_not-found in 5.5s (1158 modules)
 GET /.redwood/functions/inngest 404 in 1665ms
üìã Loading Firebase service account from: ./firebase-service-account.json
‚úÖ Firebase Admin initialized with service account file
REDIS_URL environment variable is not set, caching will be disabled.
üîß Initializing Inngest serve handler...
üìä Functions to register: 2
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: true,
  'sync_id.omitempty': '114f5280-5e4d-409e-bb86-cee33a9de856',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 9003ms
 GET / 200 in 366ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b80c10bd-cef5-4179-8a68-0def1527ee41',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 36ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'bcd23a94-3ce7-413b-9f0c-6faaaea8174c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
 ‚óã Compiling /api/inngest/trigger-parse ...
 ‚úì Compiled /api/inngest/trigger-parse in 619ms (830 modules)
REDIS_URL environment variable is not set, caching will be disabled.
üîß Initializing Inngest serve handler...
üìä Functions to register: 2
üöÄ Trigger parse API called
üì¶ Request body: {
  flyerImageId: '1Jkfyp87UjiMltMffluf',
  storageUrl: 'https://firebasestorage.googleapis.com/v0/b/badiyala-staging.firebasestorage.app/o/flyer-images%2Ff8dc2bad-00e9-48fc-800e-7d5114811951.jpg?alt=media&token=a6ed7e08-b57f-4a0e-9934-90589e8c3895'
}
üîÑ Sending event to Inngest...
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4b35f715-a3a5-4799-b2dd-dfb1c0914984',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 959ms
‚úÖ Inngest event sent: { ids: [ '01K35XCBMC7CRS3GMPNYCSABMB' ] }
 POST /api/inngest/trigger-parse 200 in 998ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [] +1ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +15ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW executing step "update-status-processing" +2ms
üìù Updating flyer image 1Jkfyp87UjiMltMffluf status to: processing
‚úÖ Successfully updated flyer image 1Jkfyp87UjiMltMffluf status to: processing
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
    op: 'StepRun',
    name: 'update-status-processing',
    opts: {},
    displayName: 'update-status-processing',
    data: { status: 'processing' }
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 2217ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [ 'f7da0e77dad8df9368c4406057dce67b98eed9fa' ] +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +1ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +1ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW executing step "parse-with-gemini" +0ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'cc6f3576-de51-4af4-8669-0c0eeebc29a9',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 23ms
 ‚óã Compiling /flyers ...
 ‚úì Compiled /flyers in 969ms (1215 modules)
 ‚ö† The "images.domains" configuration is deprecated. Please use "images.remotePatterns" configuration instead.
 ‚óã Compiling /flyers/[id] ...
 ‚úì Compiled /flyers/[id] in 6.4s (1261 modules)
REDIS_URL environment variable is not set, caching will be disabled.
üîß Initializing Inngest serve handler...
üìä Functions to register: 2
 PUT /api/inngest 200 in 10850ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: true,
  'sync_id.omitempty': 'eb4551b8-99ce-4a17-a98f-0847d95c286a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '9d0d655b-8e04-4a55-9625-e73fad761f6c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 219ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '7cbfeb50-46ef-447b-9f8e-a368164dc7bb',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 237ms
ü§ñ Raw Gemini response length: 6391
üîç Raw response preview: [
  {
    "product_name": "Savex Premium Color & Care Detergent 5.5kg",
    "product_name_mk": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
    "product_name_prefixes": ["S", "Sa", "Sav", "Save", "Sa...
‚ú® Cleaned text length: 6322
üîç Cleaned text preview: [  {    "product_name": "Savex Premium Color & Care Detergent 5.5kg",    "product_name_mk": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",    "product_name_prefixes": ["S", "Sa", "Sav", "Save", "Savex"...
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
    op: 'StepRun',
    name: 'parse-with-gemini',
    opts: {},
    displayName: 'parse-with-gemini',
    data: { success: true, data: [Array] }
  }
} +31s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 31507ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +1ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +12ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW executing step "save-parsed-data" +1ms
üìù Adding parsed item for flyer: 1Jkfyp87UjiMltMffluf
‚úÖ Successfully added parsed item with ID: SdehRPJRfb181iPeRR3J
üìù Adding parsed item for flyer: 1Jkfyp87UjiMltMffluf
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '56651ab0-f466-49ad-adae-56d0b2d8d5bf',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
‚úÖ Successfully added parsed item with ID: GLmaNdllhuzXT0NiqzFM
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
    op: 'StepRun',
    name: 'save-parsed-data',
    opts: {},
    displayName: 'save-parsed-data',
    data: [ 'SdehRPJRfb181iPeRR3J', 'GLmaNdllhuzXT0NiqzFM' ]
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 1693ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW executing step "trigger-product-matching" +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
    op: 'StepRun',
    name: 'trigger-product-matching',
    opts: {},
    displayName: 'trigger-product-matching',
    data: { totalItems: 2, successfulItems: 2, failedItems: 0 }
  }
} +9ms
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 37ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [] +1ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ executing step "update-status-to-processing" +1ms
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f5ef091509a1e35daf3df114b407c52c12a359e5',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y executing step "update-status-to-processing" +1ms
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +5ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW executing step "update-status-completed" +1ms
üìù Updating flyer image 1Jkfyp87UjiMltMffluf status to: completed
üîç Update data structure check: {"matchingStatus":"processing","updatedAt":{"_seconds":1755766504,"_nanoseconds":694000000}}...
‚úÖ Successfully updated flyer image 1Jkfyp87UjiMltMffluf status to: completed
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'update-status-completed': {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
    op: 'StepRun',
    name: 'update-status-completed',
    opts: {},
    displayName: 'update-status-completed',
    data: { status: 'completed', savedItems: 2 }
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 1673ms
üîç Update data structure check: {"matchingStatus":"processing","updatedAt":{"_seconds":1755766505,"_nanoseconds":917000000}}...
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
    op: 'StepRun',
    name: 'update-status-to-processing',
    opts: {},
    displayName: 'update-status-to-processing',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 1688ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW created new V1 execution for run; discovering steps +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f5ef091509a1e35daf3df114b407c52c12a359e5',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +0ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XCBMC7CRS3GMPNYCSABMB',
  flyerImageId: '1Jkfyp87UjiMltMffluf'
}
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW checkpoint: {
  type: 'function-resolved',
  data: {
    flyerImageId: '1Jkfyp87UjiMltMffluf',
    itemsSaved: 2,
    status: 'completed'
  }
} +5ms
  inngest:01K35XCBMRQHGPFQ494CZQ6KNW result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XCBMC7CRS3GMPNYCSABMB',
      name: 'flyer/parse',
      ts: 1755766468236,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XCBMRQHGPFQ494CZQ6KNW',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'update-status-completed': {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    flyerImageId: '1Jkfyp87UjiMltMffluf',
    itemsSaved: 2,
    status: 'completed'
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 200 in 32ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [ 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d' ] +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ executing step "search-products" +0ms
üîç Searching for products matching: Savex Premium Color & Care Detergent 5.5kg
üîç Starting product search
üìä SEARCH_PARAMS - Search parameters: {
  parsedItemId: 'SdehRPJRfb181iPeRR3J',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  limit: 10,
  timestamp: '2025-08-21T08:55:06.080Z'
}
üîç Enhanced search for products matching: Savex Premium Color & Care Detergent 5.5kg
üìä SEARCH_START - Product matching search initiated with parameters: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  limit: 10
}
üîç Extracting keywords from: "Savex Premium Color & Care Detergent 5.5kg"
üîç Additional texts: 68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω
üîç Cleaned text: "savex premium color care detergent 5 5kg"
üîç Base words extracted: [ 'savex', 'premium', 'color', 'care', 'detergent', '5kg' ]
üîç Additional words from "68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω": [
  '68',           'washes',
  '30',           'cold',
  'wash',         'technology',
  'concentrated', 'detergent',
  'supreme',      'clean',
  'protect',      'color',
  'care',         '30',
  '50',           'points',
  '1kg',          '107'
]
üîç Final unique keywords: [
  'savex',        'premium',
  'color',        'care',
  'detergent',    '5kg',
  '68',           'washes',
  '30',           'cold',
  'wash',         'technology',
  'concentrated', 'supreme',
  'clean',        'protect',
  '50',           'points',
  '1kg',          '107'
]
üîç Extracting keywords from: "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥"
üîç Additional texts: 68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω
üîç Cleaned text: "—Å–∞–≤–µ–∫—Å –ø—Ä–µ–º–∏—É–º –∫–æ–ª–æ—Ä –∫–µ—Ä –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5 5–∫–≥"
üîç Base words extracted: [ '—Å–∞–≤–µ–∫—Å', '–ø—Ä–µ–º–∏—É–º', '–∫–æ–ª–æ—Ä', '–∫–µ—Ä', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥' ]
üîç Additional words from "68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω": [
  '68',        '–ø–µ—Ä–µ—ö–∞',
  '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
  '–∑–∞',        '–ª–∞–¥–Ω–æ',
  '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '–≤—Ä–≤–Ω–æ',
  '—á–∏—Å—Ç–µ—ö–µ',   '–∑–∞—à—Ç–∏—Ç–∞',
  '–∫–æ–ª–æ—Ä',     '–∫–µ—Ä',
  '30',        '50',
  '–ø–æ–µ–Ω–∏',     '1–∫–≥',
  '107'
]
üîç Final unique keywords: [
  '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
  '–∫–æ–ª–æ—Ä',     '–∫–µ—Ä',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
  '68',        '–ø–µ—Ä–µ—ö–∞',
  '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
  '–∑–∞',        '–ª–∞–¥–Ω–æ',
  '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
  '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
  '–∑–∞—à—Ç–∏—Ç–∞',   '50',
  '–ø–æ–µ–Ω–∏',     '1–∫–≥',
  '107'
]
üîç Keyword extraction debug: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  extractedEnglishKeywords: [
    'savex',        'premium',
    'color',        'care',
    'detergent',    '5kg',
    '68',           'washes',
    '30',           'cold',
    'wash',         'technology',
    'concentrated', 'supreme',
    'clean',        'protect',
    '50',           'points',
    '1kg',          '107'
  ],
  extractedMacedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
    '–∫–æ–ª–æ—Ä',     '–∫–µ—Ä',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
    '68',        '–ø–µ—Ä–µ—ö–∞',
    '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
    '–∑–∞',        '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
    '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
    '–∑–∞—à—Ç–∏—Ç–∞',   '50',
    '–ø–æ–µ–Ω–∏',     '1–∫–≥',
    '107'
  ]
}
üìä SEARCH_KEYWORDS - Extracted keywords for search: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  englishKeywords: 'savex, premium, color, care, detergent, 5kg, 68, washes, 30, cold, wash, technology, concentrated, supreme, clean, protect, 50, points, 1kg, 107',
  englishKeywordCount: 20,
  macedonianKeywords: '—Å–∞–≤–µ–∫—Å, –ø—Ä–µ–º–∏—É–º, –∫–æ–ª–æ—Ä, –∫–µ—Ä, –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, 5–∫–≥, 68, –ø–µ—Ä–µ—ö–∞, 30, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞, –∑–∞, –ª–∞–¥–Ω–æ, –ø–µ—Ä–µ—ö–µ, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω, –≤—Ä–≤–Ω–æ, —á–∏—Å—Ç–µ—ö–µ, –∑–∞—à—Ç–∏—Ç–∞, 50, –ø–æ–µ–Ω–∏, 1–∫–≥, 107',
  macedonianKeywordCount: 21,
  keywordExtractionMethod: 'standard tokenization with stopword removal'
}
üîç Searching with keywords: savex, premium, color, care, detergent, 5kg, 68, washes, 30, cold
üìã Search parameters: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Color & Care, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  englishKeywords: [
    'savex',        'premium',
    'color',        'care',
    'detergent',    '5kg',
    '68',           'washes',
    '30',           'cold',
    'wash',         'technology',
    'concentrated', 'supreme',
    'clean',        'protect',
    '50',           'points',
    '1kg',          '107'
  ],
  macedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
    '–∫–æ–ª–æ—Ä',     '–∫–µ—Ä',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
    '68',        '–ø–µ—Ä–µ—ö–∞',
    '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
    '–∑–∞',        '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
    '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
    '–∑–∞—à—Ç–∏—Ç–∞',   '50',
    '–ø–æ–µ–Ω–∏',     '1–∫–≥',
    '107'
  ],
  allKeywords: [
    'savex',        'premium',      'color',
    'care',         'detergent',    '5kg',
    '68',           'washes',       '30',
    'cold',         'wash',         'technology',
    'concentrated', 'supreme',      'clean',
    'protect',      '50',           'points',
    '1kg',          '107',          '—Å–∞–≤–µ–∫—Å',
    '–ø—Ä–µ–º–∏—É–º',      '–∫–æ–ª–æ—Ä',        '–∫–µ—Ä',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',          '–ø–µ—Ä–µ—ö–∞',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',           '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',       '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–≤—Ä–≤–Ω–æ',
    '—á–∏—Å—Ç–µ—ö–µ',      '–∑–∞—à—Ç–∏—Ç–∞',      '–ø–æ–µ–Ω–∏',
    '1–∫–≥'
  ],
  limitedKeywords: [
    'savex',     'premium',
    'color',     'care',
    'detergent', '5kg',
    '68',        'washes',
    '30',        'cold'
  ]
}
üîç Testing products collection access...
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
    op: 'StepRun',
    name: 'update-status-to-processing',
    opts: {},
    displayName: 'update-status-to-processing',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 2081ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [ 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d' ] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y executing step "search-products" +1ms
üîç Searching for products matching: Savex Premium Fresh Universal Detergent 5.5kg
üîç Starting product search
üìä SEARCH_PARAMS - Search parameters: {
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  limit: 10,
  timestamp: '2025-08-21T08:55:06.504Z'
}
üîç Enhanced search for products matching: Savex Premium Fresh Universal Detergent 5.5kg
üìä SEARCH_START - Product matching search initiated with parameters: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  limit: 10
}
üîç Extracting keywords from: "Savex Premium Fresh Universal Detergent 5.5kg"
üîç Additional texts: 68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω
üîç Cleaned text: "savex premium fresh universal detergent 5 5kg"
üîç Base words extracted: [ 'savex', 'premium', 'fresh', 'universal', 'detergent', '5kg' ]
üîç Additional words from "68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω": [
  '68',           'washes',
  '30',           'cold',
  'wash',         'technology',
  'concentrated', 'detergent',
  'supreme',      'clean',
  'protect',      'fresh',
  'universal',    '30',
  '50',           'points',
  '1kg',          '107'
]
üîç Final unique keywords: [
  'savex',        'premium',
  'fresh',        'universal',
  'detergent',    '5kg',
  '68',           'washes',
  '30',           'cold',
  'wash',         'technology',
  'concentrated', 'supreme',
  'clean',        'protect',
  '50',           'points',
  '1kg',          '107'
]
üîç Extracting keywords from: "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥"
üîç Additional texts: 68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω
üîç Cleaned text: "—Å–∞–≤–µ–∫—Å –ø—Ä–µ–º–∏—É–º —Ñ—Ä–µ—à —É–Ω–∏–≤–µ—Ä—Å–∞–ª –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5 5–∫–≥"
üîç Base words extracted: [ '—Å–∞–≤–µ–∫—Å', '–ø—Ä–µ–º–∏—É–º', '—Ñ—Ä–µ—à', '—É–Ω–∏–≤–µ—Ä—Å–∞–ª', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥' ]
üîç Additional words from "68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω": [
  '68',        '–ø–µ—Ä–µ—ö–∞',
  '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
  '–∑–∞',        '–ª–∞–¥–Ω–æ',
  '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '–≤—Ä–≤–Ω–æ',
  '—á–∏—Å—Ç–µ—ö–µ',   '–∑–∞—à—Ç–∏—Ç–∞',
  '—Ñ—Ä–µ—à',      '—É–Ω–∏–≤–µ—Ä—Å–∞–ª',
  '30',        '50',
  '–ø–æ–µ–Ω–∏',     '1–∫–≥',
  '107'
]
üîç Final unique keywords: [
  '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
  '—Ñ—Ä–µ—à',      '—É–Ω–∏–≤–µ—Ä—Å–∞–ª',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
  '68',        '–ø–µ—Ä–µ—ö–∞',
  '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
  '–∑–∞',        '–ª–∞–¥–Ω–æ',
  '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
  '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
  '–∑–∞—à—Ç–∏—Ç–∞',   '50',
  '–ø–æ–µ–Ω–∏',     '1–∫–≥',
  '107'
]
üîç Keyword extraction debug: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  extractedEnglishKeywords: [
    'savex',        'premium',
    'fresh',        'universal',
    'detergent',    '5kg',
    '68',           'washes',
    '30',           'cold',
    'wash',         'technology',
    'concentrated', 'supreme',
    'clean',        'protect',
    '50',           'points',
    '1kg',          '107'
  ],
  extractedMacedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
    '—Ñ—Ä–µ—à',      '—É–Ω–∏–≤–µ—Ä—Å–∞–ª',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
    '68',        '–ø–µ—Ä–µ—ö–∞',
    '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
    '–∑–∞',        '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
    '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
    '–∑–∞—à—Ç–∏—Ç–∞',   '50',
    '–ø–æ–µ–Ω–∏',     '1–∫–≥',
    '107'
  ]
}
üìä SEARCH_KEYWORDS - Extracted keywords for search: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  englishKeywords: 'savex, premium, fresh, universal, detergent, 5kg, 68, washes, 30, cold, wash, technology, concentrated, supreme, clean, protect, 50, points, 1kg, 107',
  englishKeywordCount: 20,
  macedonianKeywords: '—Å–∞–≤–µ–∫—Å, –ø—Ä–µ–º–∏—É–º, —Ñ—Ä–µ—à, —É–Ω–∏–≤–µ—Ä—Å–∞–ª, –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, 5–∫–≥, 68, –ø–µ—Ä–µ—ö–∞, 30, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞, –∑–∞, –ª–∞–¥–Ω–æ, –ø–µ—Ä–µ—ö–µ, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω, –≤—Ä–≤–Ω–æ, —á–∏—Å—Ç–µ—ö–µ, –∑–∞—à—Ç–∏—Ç–∞, 50, –ø–æ–µ–Ω–∏, 1–∫–≥, 107',
  macedonianKeywordCount: 21,
  keywordExtractionMethod: 'standard tokenization with stopword removal'
}
üîç Searching with keywords: savex, premium, fresh, universal, detergent, 5kg, 68, washes, 30, cold
üìã Search parameters: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, 30¬∞ cold wash technology, Concentrated detergent, Supreme clean & protect, Fresh Universal, -30%, +50 points, 1kg = 107 –¥–µ–Ω',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, 30¬∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ª–∞–¥–Ω–æ –ø–µ—Ä–µ—ö–µ, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, –í—Ä–≤–Ω–æ —á–∏—Å—Ç–µ—ö–µ –∏ –∑–∞—à—Ç–∏—Ç–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä—Å–∞–ª, -30%, +50 –ø–æ–µ–Ω–∏, 1–∫–≥ = 107 –¥–µ–Ω',
  englishKeywords: [
    'savex',        'premium',
    'fresh',        'universal',
    'detergent',    '5kg',
    '68',           'washes',
    '30',           'cold',
    'wash',         'technology',
    'concentrated', 'supreme',
    'clean',        'protect',
    '50',           'points',
    '1kg',          '107'
  ],
  macedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',    '–ø—Ä–µ–º–∏—É–º',
    '—Ñ—Ä–µ—à',      '—É–Ω–∏–≤–µ—Ä—Å–∞–ª',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥',
    '68',        '–ø–µ—Ä–µ—ö–∞',
    '30',        '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',
    '–∑–∞',        '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω',
    '–≤—Ä–≤–Ω–æ',     '—á–∏—Å—Ç–µ—ö–µ',
    '–∑–∞—à—Ç–∏—Ç–∞',   '50',
    '–ø–æ–µ–Ω–∏',     '1–∫–≥',
    '107'
  ],
  allKeywords: [
    'savex',        'premium',      'fresh',
    'universal',    'detergent',    '5kg',
    '68',           'washes',       '30',
    'cold',         'wash',         'technology',
    'concentrated', 'supreme',      'clean',
    'protect',      '50',           'points',
    '1kg',          '107',          '—Å–∞–≤–µ–∫—Å',
    '–ø—Ä–µ–º–∏—É–º',      '—Ñ—Ä–µ—à',         '—É–Ω–∏–≤–µ—Ä—Å–∞–ª',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',          '–ø–µ—Ä–µ—ö–∞',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',           '–ª–∞–¥–Ω–æ',
    '–ø–µ—Ä–µ—ö–µ',       '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–≤—Ä–≤–Ω–æ',
    '—á–∏—Å—Ç–µ—ö–µ',      '–∑–∞—à—Ç–∏—Ç–∞',      '–ø–æ–µ–Ω–∏',
    '1–∫–≥'
  ],
  limitedKeywords: [
    'savex',     'premium',
    'fresh',     'universal',
    'detergent', '5kg',
    '68',        'washes',
    '30',        'cold'
  ]
}
üîç Testing products collection access...
üìä Products collection accessible: 1 test doc(s) found
üìä Sample product structure: {
  id: ' 00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  hasEnglishNameKeywords: true,
  hasMacedonianname: true,
  hasKeywords: false
}
üîç Stage 1: Searching englishNameKeywords
üìä Products collection accessible: 1 test doc(s) found
üìä Sample product structure: {
  id: ' 00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  hasEnglishNameKeywords: true,
  hasMacedonianname: true,
  hasKeywords: false
}
üîç Stage 1: Searching englishNameKeywords
üìä Stage 1: englishNameKeywords: Found 1 results
üìä SEARCH_STAGE_RESULTS - Stage 1: englishNameKeywords: Found 1 results
üîç Stage 1: englishNameKeywords - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
‚úÖ Stage 1: englishNameKeywords - Added unique product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 2: Searching macedoniannameKeywords
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b17e0e35-fada-4fe8-b310-99349a1f12e0',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
üìä Stage 1: englishNameKeywords: Found 1 results
üìä SEARCH_STAGE_RESULTS - Stage 1: englishNameKeywords: Found 1 results
üîç Stage 1: englishNameKeywords - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
‚úÖ Stage 1: englishNameKeywords - Added unique product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 2: Searching macedoniannameKeywords
üìä Stage 2: macedoniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 2: macedoniannameKeywords: Found 0 results
üîç Stage 3: Searching albeniannameKeywords
üìä Stage 2: macedoniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 2: macedoniannameKeywords: Found 0 results
üîç Stage 3: Searching albeniannameKeywords
üìä Stage 3: albeniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 3: albeniannameKeywords: Found 0 results
üîç Stage 4: Searching keywords array
üìä Stage 3: albeniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 3: albeniannameKeywords: Found 0 results
üîç Stage 4: Searching keywords array
üìä Stage 4: keywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 4: keywords: Found 0 results
üîç Stage 5: Searching tags array
üìä Stage 4: keywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 4: keywords: Found 0 results
üîç Stage 5: Searching tags array
üìä Stage 5: tags: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 5: tags: Found 0 results
üîç Stage 6: Searching name field
üîç Stage 6a: Trying exact name match for: "Savex Premium Color & Care Detergent 5.5kg"
üìä Stage 5: tags: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 5: tags: Found 0 results
üîç Stage 6: Searching name field
üîç Stage 6a: Trying exact name match for: "Savex Premium Fresh Universal Detergent 5.5kg"
üìä Stage 6a: Exact name match found 0 results
üìä Stage 6a: exact name match: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6a: exact name match: Found 0 results
üîç Stage 6b: Searching name field with keyword: "savex"
üìä Stage 6a: Exact name match found 2 results
üìä Stage 6a: exact name match: Found 2 results
üìä SEARCH_STAGE_RESULTS - Stage 6a: exact name match: Found 2 results
üîç Stage 6a: exact name match - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–ò–º–∞–∫–æ –≤–∏–Ω–æ 0.75–ª',
  albenianname: 'Ver√´ Imako 0,75l'
}
‚ö†Ô∏è Potential data inconsistency in product "Savex Premium Fresh Universal Detergent 5.5kg": detergent name with wine translations, but continuing with match
üîÑ Stage 6a: exact name match - Skipped duplicate product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 6a: exact name match - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
üîÑ Stage 6a: exact name match - Skipped duplicate product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 6b: Searching name field with keyword: "savex"
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b7944d66-8677-490f-adb0-736e9cb97001',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
üìä Stage 6b: Keyword "savex" found 0 results
üìä Stage 6b: name field keyword "savex": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "savex": Found 0 results
üîç Stage 6b: Searching name field with keyword: "premium"
üìä Stage 6b: Keyword "savex" found 0 results
üìä Stage 6b: name field keyword "savex": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "savex": Found 0 results
üîç Stage 6b: Searching name field with keyword: "premium"
üìä Stage 6b: Keyword "premium" found 0 results
üìä Stage 6b: name field keyword "premium": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "premium": Found 0 results
üîç Stage 6b: Searching name field with keyword: "color"
üìä Stage 6b: Keyword "premium" found 0 results
üìä Stage 6b: name field keyword "premium": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "premium": Found 0 results
üîç Stage 6b: Searching name field with keyword: "fresh"
üìä Stage 6b: Keyword "color" found 0 results
üìä Stage 6b: name field keyword "color": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "color": Found 0 results
üîç Stage 6b: Searching name field with keyword: "care"
üìä Stage 6b: Keyword "fresh" found 0 results
üìä Stage 6b: name field keyword "fresh": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "fresh": Found 0 results
üîç Stage 6b: Searching name field with keyword: "universal"
üìä Stage 6b: Keyword "care" found 0 results
üìä Stage 6b: name field keyword "care": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "care": Found 0 results
üîç Stage 6b: Searching name field with keyword: "detergent"
üìä Stage 6b: Keyword "universal" found 0 results
üìä Stage 6b: name field keyword "universal": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "universal": Found 0 results
üîç Stage 6b: Searching name field with keyword: "detergent"
üìä Stage 6b: Keyword "detergent" found 0 results
üìä Stage 6b: name field keyword "detergent": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "detergent": Found 0 results
üîç Stage 6b: Searching name field with keyword: "5kg"
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f7f164af-6d47-4e99-aa56-5c85ebffcc09',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 24ms
üìä Stage 6b: Keyword "detergent" found 0 results
üìä Stage 6b: name field keyword "detergent": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "detergent": Found 0 results
üîç Stage 6b: Searching name field with keyword: "5kg"
üìä Stage 6b: Keyword "5kg" found 0 results
üìä Stage 6b: name field keyword "5kg": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "5kg": Found 0 results
üîç Stage 6b: Searching name field with keyword: "68"
üìä Stage 6b: Keyword "5kg" found 0 results
üìä Stage 6b: name field keyword "5kg": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "5kg": Found 0 results
üîç Stage 6b: Searching name field with keyword: "68"
üìä Stage 6b: Keyword "68" found 0 results
üìä Stage 6b: name field keyword "68": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "68": Found 0 results
üîç Stage 6b: Searching name field with keyword: "washes"
üìä Stage 6b: Keyword "68" found 0 results
üìä Stage 6b: name field keyword "68": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "68": Found 0 results
üîç Stage 6b: Searching name field with keyword: "washes"
üìä Stage 6b: Keyword "washes" found 0 results
üìä Stage 6b: name field keyword "washes": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "washes": Found 0 results
üîç Stage 6b: Searching name field with keyword: "30"
üìä Stage 6b: Keyword "washes" found 0 results
üìä Stage 6b: name field keyword "washes": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "washes": Found 0 results
üîç Stage 6b: Searching name field with keyword: "30"
üìä Stage 6b: Keyword "30" found 0 results
üìä Stage 6b: name field keyword "30": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "30": Found 0 results
üîç Stage 6b: Searching name field with keyword: "cold"
üìä Stage 6b: Keyword "30" found 0 results
üìä Stage 6b: name field keyword "30": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "30": Found 0 results
üîç Stage 6b: Searching name field with keyword: "cold"
üìä Stage 6b: Keyword "cold" found 0 results
üìä Stage 6b: name field keyword "cold": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "cold": Found 0 results
üîç Stage 7: Searching macedonianname field
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '3d46dd2d-56c0-4596-b7c3-e8b0caad0d67',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 6b: Keyword "cold" found 0 results
üìä Stage 6b: name field keyword "cold": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "cold": Found 0 results
üîç Stage 7: Searching macedonianname field
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '3281ea28-f74f-4217-96ef-9f58d5310e92',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üîç Stage 8: Searching albenianname field
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'c5c009e4-8bb3-4761-b487-cc26ce88ae2b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üîç Stage 8: Searching albenianname field
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '7a43d80c-bf0d-4f97-a8ed-deef27966bcd',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 88ms
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üîç Stage 9: Searching superMarketName field
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e689cbb9-66fc-450d-ada2-8ba16ee5c11e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 35ms
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üîç Stage 9: Searching superMarketName field
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'd25b1516-7af1-4db4-90ad-447e351bd032',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üîç Stage 10: Searching description field (fallback)
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '3348a190-5f90-419c-b781-6247c52bae9c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üîç Stage 10: Searching description field (fallback)
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found 1 potential product matches
üìä SEARCH_SUCCESS - Found 1 matches for product: Savex Premium Color & Care Detergent 5.5kg
üìä SEARCH_RESULT_SUMMARY - Top matches: [
  {
    id: '00GAOMXjQNgFXhjef5NA',
    name: 'Savex Premium Fresh Universal Detergent 5.5kg',
    macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
    matchedVia: 'Stage 1: englishNameKeywords'
  }
]
‚úÖ Found 1 potential matches
üìä SEARCH_RESULTS - Search results summary: {
  parsedItemId: 'SdehRPJRfb181iPeRR3J',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  resultCount: 1,
  topMatchIds: [ '00GAOMXjQNgFXhjef5NA' ],
  timestamp: '2025-08-21T08:55:57.034Z'
}
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
    op: 'StepRun',
    name: 'search-products',
    opts: {},
    displayName: 'search-products',
    data: [ [Object] ]
  }
} +51s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 51006ms
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ executing step "score-matches" +0ms
üß† Processing 1 potential matches for deduplication and AI scoring
‚è±Ô∏è Score matches step started at 2025-08-21T08:55:57.212Z
üîÑ Deduplicated from 1 to 1 unique products
üìä SCORING_START - Starting AI scoring with parameters: {
  parsedItemId: 'SdehRPJRfb181iPeRR3J',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  uniqueProductCount: 1,
  timestamp: '2025-08-21T08:55:57.212Z'
}
üîç Fetching active auto-approval rule using admin SDK
üöÄ AI scoring promise created at 2025-08-21T08:55:57.215Z
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found active auto-approval rule: 6LwmkueLAuQfQnxo1t8k
ü§ñ Starting Gemini API call at 2025-08-21T08:55:57.704Z
üìã Prompt length: 3805 characters
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found 1 potential product matches
üìä SEARCH_SUCCESS - Found 1 matches for product: Savex Premium Fresh Universal Detergent 5.5kg
üìä SEARCH_RESULT_SUMMARY - Top matches: [
  {
    id: '00GAOMXjQNgFXhjef5NA',
    name: 'Savex Premium Fresh Universal Detergent 5.5kg',
    macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
    matchedVia: 'Stage 1: englishNameKeywords'
  }
]
‚úÖ Found 1 potential matches
üìä SEARCH_RESULTS - Search results summary: {
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  resultCount: 1,
  topMatchIds: [ '00GAOMXjQNgFXhjef5NA' ],
  timestamp: '2025-08-21T08:55:58.697Z'
}
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
    op: 'StepRun',
    name: 'search-products',
    opts: {},
    displayName: 'search-products',
    data: [ [Object] ]
  }
} +52s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 52221ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +3ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y executing step "score-matches" +1ms
üß† Processing 1 potential matches for deduplication and AI scoring
‚è±Ô∏è Score matches step started at 2025-08-21T08:55:58.860Z
üîÑ Deduplicated from 1 to 1 unique products
üìä SCORING_START - Starting AI scoring with parameters: {
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  uniqueProductCount: 1,
  timestamp: '2025-08-21T08:55:58.860Z'
}
üîç Fetching active auto-approval rule using admin SDK
üöÄ AI scoring promise created at 2025-08-21T08:55:58.861Z
‚úÖ Found active auto-approval rule: 6LwmkueLAuQfQnxo1t8k
ü§ñ Starting Gemini API call at 2025-08-21T08:55:59.240Z
üìã Prompt length: 3817 characters
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1a91f17c-5fbd-4969-8fbd-075f79cdecb0',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 20ms
‚úÖ Gemini API call completed at 2025-08-21T08:56:00.753Z
üìÑ Received response of length: 442 characters
ü§ñ Raw Gemini response length: 442
‚úÖ Found 1 valid matches after filtering
üèÅ Product matching completed with 1 matches
Match #1: productId=00GAOMXjQNgFXhjef5NA, score=0.85, can_auto_merge=true
üéØ AI scoring completed at 2025-08-21T08:56:00.760Z with 1 scored matches
‚è±Ô∏è Score matches step completed at 2025-08-21T08:56:00.760Z
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
    op: 'StepRun',
    name: 'score-matches',
    opts: {},
    displayName: 'score-matches',
    data: [ [Object] ]
  }
} +4s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 3583ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755766560,
      "_nanoseconds": 807000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +6ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ executing step "check-auto-approval" +1ms
üìä Checking auto-approval for 1 potential matches
üîç Auto-approval workflow step started at 2025-08-21T08:56:00.808Z
üìã Parsed item ID: SdehRPJRfb181iPeRR3J
‚è±Ô∏è Setting auto-approval timeout to 30 seconds
Match #1: productId=00GAOMXjQNgFXhjef5NA, relevanceScore=0.85, reason=Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).
üöÄ Auto-approval approved for product: 00GAOMXjQNgFXhjef5NA with confidence 0.85
üìù Reason: Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).
‚úÖ Auto-approval completed successfully at 2025-08-21T08:56:00.809Z
‚è±Ô∏è Auto-approval step completed at 2025-08-21T08:56:00.809Z
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '264b57991efed85f2e14313161ab14957e9cb996',
    op: 'StepRun',
    name: 'check-auto-approval',
    opts: {},
    displayName: 'check-auto-approval',
    data: {
      shouldAutoApprove: true,
      productId: '00GAOMXjQNgFXhjef5NA',
      reasoning: 'Auto-approved based on high relevance score of 0.85',
      confidence: 0.85
    }
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 25ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755766560,
      "_nanoseconds": 957000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +8ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ executing step "save-matches-and-auto-approve" +1ms
üíæ Saving 1 matches to database
‚è±Ô∏è Save matches step started at 2025-08-21T08:56:00.961Z
‚úÖ Validated 1 matches for Firestore update
üîç Sample match structure: {"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.85,"matchReason":"Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).",...
üöÄ Auto-approved and applied to product: 00GAOMXjQNgFXhjef5NA
üìù Status set to: applied_to_product
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
üîç Update data structure check: {"matchedProducts":[{"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.85,"matchReason":"Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs....
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
‚úÖ Successfully saved matches and status for item SdehRPJRfb181iPeRR3J
üèÅ Auto-approval status set to: success
üìä Auto-approval fields: {"status":"success","reason":"Auto-approved based on high relevance score of 0.85","confidence":0.85}
‚è±Ô∏è Auto-discount application step started at 2025-08-21T08:56:01.635Z
‚ÑπÔ∏è Starting discount application [DISCOUNT_START] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'SdehRPJRfb181iPeRR3J',
  storeId: 'auto-approval',
  matchConfidence: 0.85,
  startTime: '2025-08-21T08:56:01.636Z'
}
‚ÑπÔ∏è Applied 30% discount to product 00GAOMXjQNgFXhjef5NA [SUCCESS] {
  flyerId: 'SdehRPJRfb181iPeRR3J',
  storeId: 'auto-approval',
  newPrice: 0.67,
  timestamp: '2025-08-21T08:56:03.049Z'
}
‚ÑπÔ∏è Auto-applied discount completed [DISCOUNT_SUCCESS] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'SdehRPJRfb181iPeRR3J',
  elapsedMs: 1413,
  result: {
    success: true,
    productId: '00GAOMXjQNgFXhjef5NA',
    originalPrice: 0.96,
    newPrice: 0.67,
    discountPercentage: 30
  },
  timestamp: '2025-08-21T08:56:03.049Z'
}
üìù Auto-discount application step completed [DISCOUNT_COMPLETE] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'SdehRPJRfb181iPeRR3J',
  elapsedMs: 1414,
  timestamp: '2025-08-21T08:56:03.050Z'
}
‚úÖ Auto-discount application completed at 2025-08-21T08:56:03.050Z
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '687d47a29ee00581fe23db572f967bf594c82738',
    op: 'StepRun',
    name: 'save-matches-and-auto-approve',
    opts: {},
    displayName: 'save-matches-and-auto-approve',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 2125ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '687d47a29ee00581fe23db572f967bf594c82738',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENCHWV3QS79CY3THN2M',
  parsedItemId: 'SdehRPJRfb181iPeRR3J'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, same brand. Variant differs (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755766563,
      "_nanoseconds": 208000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
‚úÖ Total execution time: 3ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ checkpoint: {
  type: 'function-resolved',
  data: {
    success: true,
    parsedItemId: 'SdehRPJRfb181iPeRR3J',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 3
  }
} +3ms
  inngest:01K35XDEQWKVEABT6ZJ90B6AJQ result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENCHWV3QS79CY3THN2M',
      name: 'flyer/product-match',
      ts: 1755766504108,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDEQWKVEABT6ZJ90B6AJQ',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    success: true,
    parsedItemId: 'SdehRPJRfb181iPeRR3J',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 3
  }
} +0ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 200 in 30ms
‚úÖ Gemini API call completed at 2025-08-21T08:56:03.357Z
üìÑ Received response of length: 453 characters
ü§ñ Raw Gemini response length: 453
‚úÖ Found 1 valid matches after filtering
üèÅ Product matching completed with 1 matches
Match #1: productId=00GAOMXjQNgFXhjef5NA, score=0.95, can_auto_merge=true
üéØ AI scoring completed at 2025-08-21T08:56:03.358Z with 1 scored matches
‚è±Ô∏è Score matches step completed at 2025-08-21T08:56:03.358Z
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
    op: 'StepRun',
    name: 'score-matches',
    opts: {},
    displayName: 'score-matches',
    data: [ [Object] ]
  }
} +4s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 4526ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian name ('–£–Ω–∏–≤–µ—Ä–∑–∞–ª' vs '–£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω').",
    "matchedAt": {
      "_seconds": 1755766563,
      "_nanoseconds": 509000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +5ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y executing step "check-auto-approval" +1ms
üìä Checking auto-approval for 1 potential matches
üîç Auto-approval workflow step started at 2025-08-21T08:56:03.511Z
üìã Parsed item ID: GLmaNdllhuzXT0NiqzFM
‚è±Ô∏è Setting auto-approval timeout to 30 seconds
Match #1: productId=00GAOMXjQNgFXhjef5NA, relevanceScore=0.95, reason=Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian name ('–£–Ω–∏–≤–µ—Ä–∑–∞–ª' vs '–£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω').
üöÄ Auto-approval approved for product: 00GAOMXjQNgFXhjef5NA with confidence 0.95
üìù Reason: Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian name ('–£–Ω–∏–≤–µ—Ä–∑–∞–ª' vs '–£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω').
‚úÖ Auto-approval completed successfully at 2025-08-21T08:56:03.512Z
‚è±Ô∏è Auto-approval step completed at 2025-08-21T08:56:03.512Z
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '264b57991efed85f2e14313161ab14957e9cb996',
    op: 'StepRun',
    name: 'check-auto-approval',
    opts: {},
    displayName: 'check-auto-approval',
    data: {
      shouldAutoApprove: true,
      productId: '00GAOMXjQNgFXhjef5NA',
      reasoning: 'Auto-approved based on high relevance score of 0.95',
      confidence: 0.95
    }
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 30ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian name ('–£–Ω–∏–≤–µ—Ä–∑–∞–ª' vs '–£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω').",
    "matchedAt": {
      "_seconds": 1755766563,
      "_nanoseconds": 657000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y executing step "save-matches-and-auto-approve" +1ms
üíæ Saving 1 matches to database
‚è±Ô∏è Save matches step started at 2025-08-21T08:56:03.660Z
‚úÖ Validated 1 matches for Firestore update
üîç Sample match structure: {"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.95,"matchReason":"Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian nam...
üöÄ Auto-approved and applied to product: 00GAOMXjQNgFXhjef5NA
üìù Status set to: applied_to_product
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
üîç Update data structure check: {"matchedProducts":[{"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.95,"matchReason":"Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor differen...
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'cf6e8ba6-8e2c-4855-b375-8bc86170f5c2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
‚úÖ Successfully saved matches and status for item GLmaNdllhuzXT0NiqzFM
üèÅ Auto-approval status set to: success
üìä Auto-approval fields: {"status":"success","reason":"Auto-approved based on high relevance score of 0.95","confidence":0.95}
‚è±Ô∏è Auto-discount application step started at 2025-08-21T08:56:04.483Z
‚ÑπÔ∏è Starting discount application [DISCOUNT_START] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'GLmaNdllhuzXT0NiqzFM',
  storeId: 'auto-approval',
  matchConfidence: 0.95,
  startTime: '2025-08-21T08:56:04.483Z'
}
‚ÑπÔ∏è Applied 30% discount to product 00GAOMXjQNgFXhjef5NA [SUCCESS] {
  flyerId: 'GLmaNdllhuzXT0NiqzFM',
  storeId: 'auto-approval',
  newPrice: 0.47,
  timestamp: '2025-08-21T08:56:05.712Z'
}
‚ÑπÔ∏è Auto-applied discount completed [DISCOUNT_SUCCESS] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'GLmaNdllhuzXT0NiqzFM',
  elapsedMs: 1229,
  result: {
    success: true,
    productId: '00GAOMXjQNgFXhjef5NA',
    originalPrice: 0.67,
    newPrice: 0.47,
    discountPercentage: 30
  },
  timestamp: '2025-08-21T08:56:05.712Z'
}
üìù Auto-discount application step completed [DISCOUNT_COMPLETE] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'GLmaNdllhuzXT0NiqzFM',
  elapsedMs: 1229,
  timestamp: '2025-08-21T08:56:05.712Z'
}
‚úÖ Auto-discount application completed at 2025-08-21T08:56:05.712Z
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '687d47a29ee00581fe23db572f967bf594c82738',
    op: 'StepRun',
    name: 'save-matches-and-auto-approve',
    opts: {},
    displayName: 'save-matches-and-auto-approve',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 2085ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y created new V1 execution for run; discovering steps +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '687d47a29ee00581fe23db572f967bf594c82738',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35XDENGWAAHS6R0VBGV4QC1',
  parsedItemId: 'GLmaNdllhuzXT0NiqzFM'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, matching size/weight in both English and Macedonian. Minor difference in Macedonian name ('–£–Ω–∏–≤–µ—Ä–∑–∞–ª' vs '–£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω').",
    "matchedAt": {
      "_seconds": 1755766565,
      "_nanoseconds": 755000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.96,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
‚úÖ Total execution time: 5ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y checkpoint: {
  type: 'function-resolved',
  data: {
    success: true,
    parsedItemId: 'GLmaNdllhuzXT0NiqzFM',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 5
  }
} +5ms
  inngest:01K35XDER2D425R0Z11YG1Y80Y result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XDENGWAAHS6R0VBGV4QC1',
      name: 'flyer/product-match',
      ts: 1755766504112,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XDER2D425R0Z11YG1Y80Y',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    success: true,
    parsedItemId: 'GLmaNdllhuzXT0NiqzFM',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 5
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b0c4eb02-87fd-4150-aad8-0ede4b696039',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 23ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'a20817e3-dbc5-41e6-86b1-fdade1d8d99c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '8477766e-f8c3-42b4-b0c3-8801f242076d',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '45c5c886-610c-4fff-b2c7-bfc761693223',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '2614d51a-219e-4d79-aab4-e873694f5ca8',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
‚è±Ô∏è Auto-approval timed out after 30 seconds, using fallback result
‚è±Ô∏è Auto-approval timed out after 30 seconds, using fallback result
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'c81e306d-acdd-41e3-936d-625594fb09e4',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '43e4608b-b5e1-42c3-95aa-00660736c575',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '6cbf47d8-13c0-4869-ab6b-b9e76fadf270',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '70300861-360f-46e7-90ce-6d332f48f3ed',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f6c453b1-453b-4440-8a0b-33ebe649860b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 20ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'd828dae6-b65d-4b45-b8f5-3f1f3729b614',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '5164d4bb-94f1-42fe-a7e1-d59c8afc7e73',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 33ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ebb8f860-436e-44ab-8cb4-98500ba28190',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '8e7aec34-5ec7-4786-80e8-af9af4ae3c94',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ef9baf69-1e1e-4a90-bb1d-eee0e307fc05',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
‚è±Ô∏è Gemini API call timed out after 85 seconds
‚è±Ô∏è Gemini API call timed out after 85 seconds
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1f1a4612-9de8-4904-82d1-d3507c47b8af',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
‚è±Ô∏è Watchdog timer triggered after 90000ms
‚è±Ô∏è AI scoring watchdog triggered - aborting operation
‚è±Ô∏è AI scoring timeout after 90 seconds
‚è±Ô∏è Watchdog timer triggered after 90000ms
‚è±Ô∏è AI scoring watchdog triggered - aborting operation
‚è±Ô∏è AI scoring timeout after 90 seconds
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '5e99285b-55a7-472a-910c-d14c344b3c0e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '0fdf0234-a246-446f-b017-f9616a31959f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 35ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '46928908-5d77-4519-8dbd-c817185f4f0b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'eb055e03-9801-4960-8671-6c140987b515',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 20ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1aa9064c-470c-49de-9155-6df3bfbe16eb',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '5b2d8aed-b91d-47f5-b9ef-caf9d29a5d3a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
‚è±Ô∏è Watchdog timer triggered after 175001ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766679,"_nanoseconds":688000000}}...
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'a7821e8e-ea13-4a45-883b-e6ff64da68c5',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766680,"_nanoseconds":100000000}}...
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766681,"_nanoseconds":535000000}}...
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766681,"_nanoseconds":870000000}}...
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ac39d8fa-efda-4c79-bc93-d24cd2caef6e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ce81557c-381f-47c9-87f2-d630ef4e42ff',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'd7529319-6ee8-40d6-a88f-39765607e82d',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '98338fa4-2d3f-42df-8834-ff3dfddb5ca9',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '5d6fed90-3dd1-483d-940e-bc627d22da27',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'dcec1f58-fb8b-4785-83de-5cb08a920254',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '7b010327-c077-4db2-9410-b497a275f553',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '9f9a8df3-e2ae-4cfc-b1d5-37bcae9c572f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '90c00afc-5675-4047-99c2-b405cea2111a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e3988dad-3a9d-4d0e-ab3e-0982c173f7a2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
‚è±Ô∏è Watchdog timer triggered after 175001ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766732,"_nanoseconds":832000000}}...
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
‚è±Ô∏è Watchdog timer triggered after 175002ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766734,"_nanoseconds":268000000}}...
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'efb2d84a-08aa-4fe6-99de-9b7d27093381',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item SdehRPJRfb181iPeRR3J
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766736,"_nanoseconds":215000000}}...
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766736,"_nanoseconds":419000000}}...
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
‚úÖ Successfully updated parsed flyer item SdehRPJRfb181iPeRR3J
‚è±Ô∏è Watchdog timer triggered after 175001ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
‚è±Ô∏è Watchdog timer triggered after 175000ms
‚ö†Ô∏è GLOBAL WATCHDOG TRIGGERED - Function running too long (175000ms)
üìù Updating parsed flyer item GLmaNdllhuzXT0NiqzFM
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766738,"_nanoseconds":979000000}}...
üîç Update data structure check: {"matchingStatus":"failed","matchingError":"Matching process timed out after 175 seconds","updatedAt":{"_seconds":1755766739,"_nanoseconds":1000000}}...
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
‚úÖ Successfully updated parsed flyer item GLmaNdllhuzXT0NiqzFM
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ce6dcdf3-5efc-4bb2-b61b-fe1610c26cfd',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '17bc1ce8-78c1-4620-a154-bf881da12ced',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 24ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e5851d2a-5292-4d41-8501-ae5c3972ad6d',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '3baeeddc-c1da-4bfc-8465-ec9ff51a8a02',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '344a1e00-f5c6-4663-9154-a58ec86b2582',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '8d3bad20-da2e-449d-a880-619a4f9c8558',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '75c78b61-114a-423b-87b8-78b1b41d87f5',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f7705de8-7fa8-454d-96f2-ebcdf200bf7c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '41889a0c-8881-427d-9827-2901d182533f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1a35ce4f-4845-4e07-823a-9d9a626f1f42',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4e2971bd-5584-4c95-a842-3caa42015846',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '0cc2ee7d-4ebe-4e25-989d-7e73c47b09be',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '39245383-8143-4a86-a15a-5a0f9a782e5c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4b4990e4-4440-4a30-9065-476c1c909313',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e7e568c4-c597-461c-a452-1b699e2e4597',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'bd640b30-b346-4d98-bc66-a13c4c00406c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '68060388-34a9-4754-9147-88577edce829',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'db555a0c-3efd-43a7-9426-aa0a939dc93f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b3fbaaad-6ca5-460c-9bc6-adbb50083b0c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e08c31bc-ccd2-406a-a043-871356745dff',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4436e2da-07fb-4911-9bdd-7f7ca969dc75',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 33ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '0b56865b-9d8f-43d6-8903-bed1c65b08ca',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '8c96acf9-fa2f-4df6-8bb0-3424ca262754',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ffb12f25-5b90-4ac6-8cc9-bf82ec04c340',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 21ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '0f504182-e852-4a08-8b4b-19b1a97b587e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'fc0e9508-59d4-491a-8709-e81541108adb',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1e9bd377-0600-441e-a3af-89dcd041dbd4',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1d8e1941-0ccb-4106-ad1a-84aa9a0d689b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f1aeb168-5d08-4570-9d4b-8699c13a30c2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'beb342cf-3188-4401-a4a2-ac894a3365e2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ebd318bc-833d-4593-bf00-cd4c567e28f6',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 24ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '275f7ccb-ba23-4ee5-a78c-efc21afa71f4',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'fba74fc3-b6f9-4630-972b-4ea1da8e0087',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ad447488-6401-4e99-a445-1c52c749d253',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '91d88689-f78d-4cba-b99e-9ee727ce59be',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 17ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'c3528221-e1de-426f-b8af-b0b05abcb4af',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 24ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '2c5b6903-68a8-4ac1-a858-013e745ad477',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '153aadd1-6d3b-4d16-bdaf-c3a23217d752',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ef198246-7978-4631-ae81-acea6e835c61',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '87751c19-715c-46c8-9a35-abcf7c4f56e1',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 83ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'fe5dc6a3-2669-4b5c-a097-6f736182a4e2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'd8d040e3-aa5f-4756-beb0-8c081b70a0a3',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '66567edd-b47f-4788-97a2-8cc28af35e7a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '525dd7f6-2eb7-47f1-a2b7-e90ea9b8060a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1eea25f6-ec35-44a8-a6ea-684cb78d6422',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1d62d21f-3b43-4797-8a95-5dab1a408697',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '138de8a8-85be-44c2-b24b-452fa46f239c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '69c6faaf-ea3d-4eb8-ba38-6d860b945bc7',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 21ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '15822ec0-21ec-419c-a804-0b99febb8870',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1fc97c69-87da-4d1e-9786-f785b0ad2561',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'cc321e64-1ba6-4816-a47a-f5631e293db4',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '896e700b-a4cb-42d4-b4f8-192ed44763ed',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
 GET /flyers/1Jkfyp87UjiMltMffluf 200 in 477ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '145ded93-973e-40f8-a334-43dc816728d0',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '7240a092-ff65-4c6c-9dd5-d475c9d2f61c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '2dcf7501-0c87-4046-8ad2-1dafa5da78fa',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1a17c71e-3db2-4c5d-9e9e-fe633944aa53',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 36ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '16c04c9c-3619-48c1-b001-63783fb64b21',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '71d8f146-44ab-4c73-ae9a-b3432252171f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 33ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b6cead3c-4e23-4ff8-a4f1-ebaec42bc10a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 33ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '1682766b-284d-4f6f-9d0e-2787df25fec0',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'fec042eb-31e0-445a-9ba1-dafd0bd11e3c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 19ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '554a8b4e-8b64-4ba1-a350-a61031d124b7',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '9a274f75-1391-4870-8e4b-94b9aacc427f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b1f4029f-313a-4923-b9ca-2aa7566f8657',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'bd0e5a83-74c5-454d-b9b0-62f2bbee2c79',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4a9db9f6-99c2-40ac-936e-0984e8d5a1eb',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '30638cd2-1741-436a-b5e1-aff4e37bf572',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ea7db008-b73d-402a-906b-235d2d17228c',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f337211d-2341-4726-bd28-8de241dc22f6',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
üöÄ Trigger parse API called
üì¶ Request body: {
  flyerImageId: '3JiOs6FiDOtRNV00mLOe',
  storageUrl: 'https://firebasestorage.googleapis.com/v0/b/badiyala-staging.firebasestorage.app/o/flyer-images%2F128f7f11-1ccf-4c11-b865-4885ec84539a.jpg?alt=media&token=f7fcb95d-5e29-459e-8f82-10d7c79b3ae5'
}
üîÑ Sending event to Inngest...
‚úÖ Inngest event sent: { ids: [ '01K35XZ6CNXQE8S0TCBC0R3QNH' ] }
 POST /api/inngest/trigger-parse 200 in 55ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [] +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +5ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 executing step "update-status-processing" +0ms
üìù Updating flyer image 3JiOs6FiDOtRNV00mLOe status to: processing
‚úÖ Successfully updated flyer image 3JiOs6FiDOtRNV00mLOe status to: processing
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
    op: 'StepRun',
    name: 'update-status-processing',
    opts: {},
    displayName: 'update-status-processing',
    data: { status: 'processing' }
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 1897ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'd8c1c552-2242-46d7-bd0c-e5a8077c891b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [ 'f7da0e77dad8df9368c4406057dce67b98eed9fa' ] +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +1ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 executing step "parse-with-gemini" +0ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '77798735-c27d-4245-a91a-ac8db51688c0',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '4b60fa23-8c83-4bbc-84b7-613278fffb5a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '12c68013-49b5-44fd-81bc-09d01135184f',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 34ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'cc743598-c30e-4e39-a3a2-83580a2f1c06',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 25ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '9a67203f-9df7-44e7-981a-6ed2dc31e495',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 21ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f665bec6-5d30-4603-9d5b-e75b6ebdc4e9',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
ü§ñ Raw Gemini response length: 7071
üîç Raw response preview: [
  {
    "product_name": "Savex Premium Color & Care Detergent 5.5kg",
    "product_name_mk": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
    "product_name_prefixes": [
      "S",
      "Sa",
     ...
‚ú® Cleaned text length: 6875
üîç Cleaned text preview: [  {    "product_name": "Savex Premium Color & Care Detergent 5.5kg",    "product_name_mk": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",    "product_name_prefixes": [      "S",      "Sa",      "Sav",...
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
    op: 'StepRun',
    name: 'parse-with-gemini',
    opts: {},
    displayName: 'parse-with-gemini',
    data: { success: true, data: [Array] }
  }
} +33s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 33292ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +1ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 executing step "save-parsed-data" +0ms
üìù Adding parsed item for flyer: 3JiOs6FiDOtRNV00mLOe
‚úÖ Successfully added parsed item with ID: uHHkjzm7t5BifXpVYNkU
üìù Adding parsed item for flyer: 3JiOs6FiDOtRNV00mLOe
‚úÖ Successfully added parsed item with ID: upojBzfqPEykorNGRrlW
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
    op: 'StepRun',
    name: 'save-parsed-data',
    opts: {},
    displayName: 'save-parsed-data',
    data: [ 'uHHkjzm7t5BifXpVYNkU', 'upojBzfqPEykorNGRrlW' ]
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 1627ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +1ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +1ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 executing step "trigger-product-matching" +1ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
    op: 'StepRun',
    name: 'trigger-product-matching',
    opts: {},
    displayName: 'trigger-product-matching',
    data: { totalItems: 2, successfulItems: 2, failedItems: 0 }
  }
} +13ms
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 35ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ad72f2fc-6df5-42c9-a388-392a44bc31fd',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 26ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f5ef091509a1e35daf3df114b407c52c12a359e5',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 executing step "update-status-completed" +1ms
üìù Updating flyer image 3JiOs6FiDOtRNV00mLOe status to: completed
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 executing step "update-status-to-processing" +1ms
üìù Updating parsed flyer item uHHkjzm7t5BifXpVYNkU
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +1ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V executing step "update-status-to-processing" +0ms
üìù Updating parsed flyer item upojBzfqPEykorNGRrlW
‚úÖ Successfully updated flyer image 3JiOs6FiDOtRNV00mLOe status to: completed
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'update-status-completed': {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
    op: 'StepRun',
    name: 'update-status-completed',
    opts: {},
    displayName: 'update-status-completed',
    data: { status: 'completed', savedItems: 2 }
  }
} +344ms
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 206 in 365ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 created new V1 execution for run; discovering steps +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 existing state keys: [
  '1d6a9892f7c8144392ea31eec78dc637b362d10f',
  '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
  'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
  'f5ef091509a1e35daf3df114b407c52c12a359e5',
  'f7da0e77dad8df9368c4406057dce67b98eed9fa'
] +0ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 starting V1 execution +0ms
üî• INNGEST FUNCTION TRIGGERED! {
  eventId: '01K35XZ6CNXQE8S0TCBC0R3QNH',
  flyerImageId: '3JiOs6FiDOtRNV00mLOe'
}
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 checkpoint: {
  type: 'function-resolved',
  data: {
    flyerImageId: '3JiOs6FiDOtRNV00mLOe',
    itemsSaved: 2,
    status: 'completed'
  }
} +4ms
  inngest:01K35XZ6G36ZVQAYBTNH28JJ24 result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35XZ6CNXQE8S0TCBC0R3QNH',
      name: 'flyer/parse',
      ts: 1755767085461,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35XZ6G36ZVQAYBTNH28JJ24',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-processing': {
      id: 'update-status-processing',
      op: 'StepPlanned',
      name: 'update-status-processing',
      displayName: 'update-status-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f7da0e77dad8df9368c4406057dce67b98eed9fa',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'parse-with-gemini': {
      id: 'parse-with-gemini',
      op: 'StepPlanned',
      name: 'parse-with-gemini',
      displayName: 'parse-with-gemini',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd6aa71717215b46efa2d36ca14a6e091fc7a9b3d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-parsed-data': {
      id: 'save-parsed-data',
      op: 'StepPlanned',
      name: 'save-parsed-data',
      displayName: 'save-parsed-data',
      opts: {},
      rawArgs: [Array],
      hashedId: '1d6a9892f7c8144392ea31eec78dc637b362d10f',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'trigger-product-matching': {
      id: 'trigger-product-matching',
      op: 'StepPlanned',
      name: 'trigger-product-matching',
      displayName: 'trigger-product-matching',
      opts: {},
      rawArgs: [Array],
      hashedId: 'f5ef091509a1e35daf3df114b407c52c12a359e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'update-status-completed': {
      id: 'update-status-completed',
      op: 'StepPlanned',
      name: 'update-status-completed',
      displayName: 'update-status-completed',
      opts: {},
      rawArgs: [Array],
      hashedId: '36c11c3a280bc8856f5fadb4a32c725b2269d4e5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    flyerImageId: '3JiOs6FiDOtRNV00mLOe',
    itemsSaved: 2,
    status: 'completed'
  }
} +0ms
 POST /api/inngest?fnId=badiyala-flyer-parser-parse-flyer&stepId=step 200 in 30ms
üîç Update data structure check: {"matchingStatus":"processing","updatedAt":{"_seconds":1755767124,"_nanoseconds":422000000}}...
üîç Update data structure check: {"matchingStatus":"processing","updatedAt":{"_seconds":1755767124,"_nanoseconds":523000000}}...
‚úÖ Successfully updated parsed flyer item uHHkjzm7t5BifXpVYNkU
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
    op: 'StepRun',
    name: 'update-status-to-processing',
    opts: {},
    displayName: 'update-status-to-processing',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 1842ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [ 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d' ] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 executing step "search-products" +1ms
üîç Searching for products matching: Savex Premium Color & Care Detergent 5.5kg
üîç Starting product search
üìä SEARCH_PARAMS - Search parameters: {
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  limit: 10,
  timestamp: '2025-08-21T09:05:24.956Z'
}
üîç Enhanced search for products matching: Savex Premium Color & Care Detergent 5.5kg
üìä SEARCH_START - Product matching search initiated with parameters: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  limit: 10
}
üîç Extracting keywords from: "Savex Premium Color & Care Detergent 5.5kg"
üîç Additional texts: 68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%
üîç Cleaned text: "savex premium color care detergent 5 5kg"
üîç Base words extracted: [ 'savex', 'premium', 'color', 'care', 'detergent', '5kg' ]
üîç Additional words from "68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%": [
  '68',         'washes',
  'color',      'care',
  'supreme',    'clean',
  'protect',    '30',
  'cold',       'wash',
  'technology', 'concentrated',
  'detergent',  '50',
  'points',     '30'
]
üîç Final unique keywords: [
  'savex',      'premium',
  'color',      'care',
  'detergent',  '5kg',
  '68',         'washes',
  'supreme',    'clean',
  'protect',    '30',
  'cold',       'wash',
  'technology', 'concentrated',
  '50',         'points'
]
üîç Extracting keywords from: "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥"
üîç Additional texts: 68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%
üîç Cleaned text: "—Å–∞–≤–µ–∫—Å –ø—Ä–µ–º–∏—É–º –∫–æ–ª–æ—Ä –∫–µ—Ä –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5 5–∫–≥"
üîç Base words extracted: [ '—Å–∞–≤–µ–∫—Å', '–ø—Ä–µ–º–∏—É–º', '–∫–æ–ª–æ—Ä', '–∫–µ—Ä', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥' ]
üîç Additional words from "68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%": [
  '68',           '–ø–µ—Ä–µ—ö–∞',
  '–∫–æ–ª–æ—Ä',        '–∫–µ—Ä',
  '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
  '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
  '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
  '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
  '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
  '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',
  '50',           '–ø–æ–µ–Ω–∏',
  '30'
]
üîç Final unique keywords: [
  '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
  '–∫–æ–ª–æ—Ä',        '–∫–µ—Ä',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
  '68',           '–ø–µ—Ä–µ—ö–∞',
  '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
  '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
  '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
  '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
  '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
  '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
  '–ø–æ–µ–Ω–∏'
]
üîç Keyword extraction debug: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  extractedEnglishKeywords: [
    'savex',      'premium',
    'color',      'care',
    'detergent',  '5kg',
    '68',         'washes',
    'supreme',    'clean',
    'protect',    '30',
    'cold',       'wash',
    'technology', 'concentrated',
    '50',         'points'
  ],
  extractedMacedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
    '–∫–æ–ª–æ—Ä',        '–∫–µ—Ä',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '68',           '–ø–µ—Ä–µ—ö–∞',
    '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
    '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
    '–ø–æ–µ–Ω–∏'
  ]
}
üìä SEARCH_KEYWORDS - Extracted keywords for search: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  englishKeywords: 'savex, premium, color, care, detergent, 5kg, 68, washes, supreme, clean, protect, 30, cold, wash, technology, concentrated, 50, points',
  englishKeywordCount: 18,
  macedonianKeywords: '—Å–∞–≤–µ–∫—Å, –ø—Ä–µ–º–∏—É–º, –∫–æ–ª–æ—Ä, –∫–µ—Ä, –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, 5–∫–≥, 68, –ø–µ—Ä–µ—ö–∞, —Å—É–ø—Ä–µ–º–µ, –∫–ª–∏–Ω, –ø—Ä–æ—Ç–µ–∫—Ç, 30, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞, –∑–∞, –ø–µ—Ä–µ—ö–µ, —Å–æ, –ª–∞–¥–Ω–∞, –≤–æ–¥–∞, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω, 50, –ø–æ–µ–Ω–∏',
  macedonianKeywordCount: 21,
  keywordExtractionMethod: 'standard tokenization with stopword removal'
}
üîç Searching with keywords: savex, premium, color, care, detergent, 5kg, 68, washes, supreme, clean
üìã Search parameters: {
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –ö–æ–ª–æ—Ä & –ö–µ—Ä –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Color & Care, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –ö–æ–ª–æ—Ä & –ö–µ—Ä, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  englishKeywords: [
    'savex',      'premium',
    'color',      'care',
    'detergent',  '5kg',
    '68',         'washes',
    'supreme',    'clean',
    'protect',    '30',
    'cold',       'wash',
    'technology', 'concentrated',
    '50',         'points'
  ],
  macedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
    '–∫–æ–ª–æ—Ä',        '–∫–µ—Ä',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '68',           '–ø–µ—Ä–µ—ö–∞',
    '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
    '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
    '–ø–æ–µ–Ω–∏'
  ],
  allKeywords: [
    'savex',        'premium',      'color',
    'care',         'detergent',    '5kg',
    '68',           'washes',       'supreme',
    'clean',        'protect',      '30',
    'cold',         'wash',         'technology',
    'concentrated', '50',           'points',
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',      '–∫–æ–ª–æ—Ä',
    '–∫–µ—Ä',          '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '–ø–µ—Ä–µ—ö–∞',       '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',           '–ª–∞–¥–Ω–∞',
    '–≤–æ–¥–∞',         '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–ø–æ–µ–Ω–∏'
  ],
  limitedKeywords: [
    'savex',     'premium',
    'color',     'care',
    'detergent', '5kg',
    '68',        'washes',
    'supreme',   'clean'
  ]
}
üîç Testing products collection access...
‚úÖ Successfully updated parsed flyer item upojBzfqPEykorNGRrlW
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
    op: 'StepRun',
    name: 'update-status-to-processing',
    opts: {},
    displayName: 'update-status-to-processing',
    data: null
  }
} +3s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 2966ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [ 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d' ] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V executing step "search-products" +1ms
üîç Searching for products matching: Savex Premium Fresh Universal Detergent 5.5kg
üîç Starting product search
üìä SEARCH_PARAMS - Search parameters: {
  parsedItemId: 'upojBzfqPEykorNGRrlW',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  limit: 10,
  timestamp: '2025-08-21T09:05:26.007Z'
}
üîç Enhanced search for products matching: Savex Premium Fresh Universal Detergent 5.5kg
üìä SEARCH_START - Product matching search initiated with parameters: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  limit: 10
}
üîç Extracting keywords from: "Savex Premium Fresh Universal Detergent 5.5kg"
üîç Additional texts: 68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%
üîç Cleaned text: "savex premium fresh universal detergent 5 5kg"
üîç Base words extracted: [ 'savex', 'premium', 'fresh', 'universal', 'detergent', '5kg' ]
üîç Additional words from "68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%": [
  '68',         'washes',
  'fresh',      'universal',
  'supreme',    'clean',
  'protect',    '30',
  'cold',       'wash',
  'technology', 'concentrated',
  'detergent',  '50',
  'points',     '30'
]
üîç Final unique keywords: [
  'savex',      'premium',
  'fresh',      'universal',
  'detergent',  '5kg',
  '68',         'washes',
  'supreme',    'clean',
  'protect',    '30',
  'cold',       'wash',
  'technology', 'concentrated',
  '50',         'points'
]
üîç Extracting keywords from: "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥"
üîç Additional texts: 68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%
üîç Cleaned text: "—Å–∞–≤–µ–∫—Å –ø—Ä–µ–º–∏—É–º —Ñ—Ä–µ—à —É–Ω–∏–≤–µ—Ä–∑–∞–ª –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5 5–∫–≥"
üîç Base words extracted: [ '—Å–∞–≤–µ–∫—Å', '–ø—Ä–µ–º–∏—É–º', '—Ñ—Ä–µ—à', '—É–Ω–∏–≤–µ—Ä–∑–∞–ª', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç', '5–∫–≥' ]
üîç Additional words from "68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%": [
  '68',           '–ø–µ—Ä–µ—ö–∞',
  '—Ñ—Ä–µ—à',         '—É–Ω–∏–≤–µ—Ä–∑–∞–ª',
  '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
  '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
  '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
  '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
  '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
  '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',
  '50',           '–ø–æ–µ–Ω–∏',
  '30'
]
üîç Final unique keywords: [
  '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
  '—Ñ—Ä–µ—à',         '—É–Ω–∏–≤–µ—Ä–∑–∞–ª',
  '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
  '68',           '–ø–µ—Ä–µ—ö–∞',
  '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
  '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
  '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
  '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
  '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
  '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
  '–ø–æ–µ–Ω–∏'
]
üîç Keyword extraction debug: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  extractedEnglishKeywords: [
    'savex',      'premium',
    'fresh',      'universal',
    'detergent',  '5kg',
    '68',         'washes',
    'supreme',    'clean',
    'protect',    '30',
    'cold',       'wash',
    'technology', 'concentrated',
    '50',         'points'
  ],
  extractedMacedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
    '—Ñ—Ä–µ—à',         '—É–Ω–∏–≤–µ—Ä–∑–∞–ª',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '68',           '–ø–µ—Ä–µ—ö–∞',
    '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
    '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
    '–ø–æ–µ–Ω–∏'
  ]
}
üìä SEARCH_KEYWORDS - Extracted keywords for search: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  englishKeywords: 'savex, premium, fresh, universal, detergent, 5kg, 68, washes, supreme, clean, protect, 30, cold, wash, technology, concentrated, 50, points',
  englishKeywordCount: 18,
  macedonianKeywords: '—Å–∞–≤–µ–∫—Å, –ø—Ä–µ–º–∏—É–º, —Ñ—Ä–µ—à, —É–Ω–∏–≤–µ—Ä–∑–∞–ª, –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, 5–∫–≥, 68, –ø–µ—Ä–µ—ö–∞, —Å—É–ø—Ä–µ–º–µ, –∫–ª–∏–Ω, –ø—Ä–æ—Ç–µ–∫—Ç, 30, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞, –∑–∞, –ø–µ—Ä–µ—ö–µ, —Å–æ, –ª–∞–¥–Ω–∞, –≤–æ–¥–∞, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω, 50, –ø–æ–µ–Ω–∏',
  macedonianKeywordCount: 21,
  keywordExtractionMethod: 'standard tokenization with stopword removal'
}
üîç Searching with keywords: savex, premium, fresh, universal, detergent, 5kg, 68, washes, supreme, clean
üìã Search parameters: {
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  productNameMk: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  additionalInfo: '68 washes, Fresh Universal, Supreme Clean & Protect, 30¬∞ Cold Wash Technology, Concentrated Detergent, +50 points, -30%',
  additionalInfoMk: '68 –ø–µ—Ä–µ—ö–∞, –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª, –°—É–ø—Ä–µ–º–µ –ö–ª–∏–Ω & –ü—Ä–æ—Ç–µ–∫—Ç, 30¬∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞ –∑–∞ –ø–µ—Ä–µ—ö–µ —Å–æ –ª–∞–¥–Ω–∞ –≤–æ–¥–∞, –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω –¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç, +50 –ø–æ–µ–Ω–∏, -30%',
  englishKeywords: [
    'savex',      'premium',
    'fresh',      'universal',
    'detergent',  '5kg',
    '68',         'washes',
    'supreme',    'clean',
    'protect',    '30',
    'cold',       'wash',
    'technology', 'concentrated',
    '50',         'points'
  ],
  macedonianKeywords: [
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',
    '—Ñ—Ä–µ—à',         '—É–Ω–∏–≤–µ—Ä–∑–∞–ª',
    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '68',           '–ø–µ—Ä–µ—ö–∞',
    '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '30',
    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',
    '–ª–∞–¥–Ω–∞',        '–≤–æ–¥–∞',
    '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '50',
    '–ø–æ–µ–Ω–∏'
  ],
  allKeywords: [
    'savex',        'premium',      'fresh',
    'universal',    'detergent',    '5kg',
    '68',           'washes',       'supreme',
    'clean',        'protect',      '30',
    'cold',         'wash',         'technology',
    'concentrated', '50',           'points',
    '—Å–∞–≤–µ–∫—Å',       '–ø—Ä–µ–º–∏—É–º',      '—Ñ—Ä–µ—à',
    '—É–Ω–∏–≤–µ—Ä–∑–∞–ª',    '–¥–µ—Ç–µ—Ä–≥–µ–Ω—Ç',    '5–∫–≥',
    '–ø–µ—Ä–µ—ö–∞',       '—Å—É–ø—Ä–µ–º–µ',      '–∫–ª–∏–Ω',
    '–ø—Ä–æ—Ç–µ–∫—Ç',      '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—ò–∞',  '–∑–∞',
    '–ø–µ—Ä–µ—ö–µ',       '—Å–æ',           '–ª–∞–¥–Ω–∞',
    '–≤–æ–¥–∞',         '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–Ω', '–ø–æ–µ–Ω–∏'
  ],
  limitedKeywords: [
    'savex',     'premium',
    'fresh',     'universal',
    'detergent', '5kg',
    '68',        'washes',
    'supreme',   'clean'
  ]
}
üîç Testing products collection access...
üìä Products collection accessible: 1 test doc(s) found
üìä Sample product structure: {
  id: ' 00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  hasEnglishNameKeywords: true,
  hasMacedonianname: true,
  hasKeywords: false
}
üîç Stage 1: Searching englishNameKeywords
üìä Products collection accessible: 1 test doc(s) found
üìä Sample product structure: {
  id: ' 00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  hasEnglishNameKeywords: true,
  hasMacedonianname: true,
  hasKeywords: false
}
üîç Stage 1: Searching englishNameKeywords
üìä Stage 1: englishNameKeywords: Found 1 results
üìä SEARCH_STAGE_RESULTS - Stage 1: englishNameKeywords: Found 1 results
üîç Stage 1: englishNameKeywords - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
‚úÖ Stage 1: englishNameKeywords - Added unique product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 2: Searching macedoniannameKeywords
üìä Stage 1: englishNameKeywords: Found 1 results
üìä SEARCH_STAGE_RESULTS - Stage 1: englishNameKeywords: Found 1 results
üîç Stage 1: englishNameKeywords - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
‚úÖ Stage 1: englishNameKeywords - Added unique product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 2: Searching macedoniannameKeywords
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'e4c23612-9bf4-4563-bfdc-0ac131e92a4a',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
üìä Stage 2: macedoniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 2: macedoniannameKeywords: Found 0 results
üîç Stage 3: Searching albeniannameKeywords
üìä Stage 2: macedoniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 2: macedoniannameKeywords: Found 0 results
üîç Stage 3: Searching albeniannameKeywords
üìä Stage 3: albeniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 3: albeniannameKeywords: Found 0 results
üîç Stage 4: Searching keywords array
üìä Stage 3: albeniannameKeywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 3: albeniannameKeywords: Found 0 results
üîç Stage 4: Searching keywords array
üìä Stage 4: keywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 4: keywords: Found 0 results
üîç Stage 5: Searching tags array
üìä Stage 4: keywords: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 4: keywords: Found 0 results
üîç Stage 5: Searching tags array
üìä Stage 5: tags: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 5: tags: Found 0 results
üîç Stage 6: Searching name field
üîç Stage 6a: Trying exact name match for: "Savex Premium Fresh Universal Detergent 5.5kg"
üìä Stage 5: tags: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 5: tags: Found 0 results
üîç Stage 6: Searching name field
üîç Stage 6a: Trying exact name match for: "Savex Premium Color & Care Detergent 5.5kg"
üìä Stage 6a: Exact name match found 2 results
üìä Stage 6a: exact name match: Found 2 results
üìä SEARCH_STAGE_RESULTS - Stage 6a: exact name match: Found 2 results
üîç Stage 6a: exact name match - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–ò–º–∞–∫–æ –≤–∏–Ω–æ 0.75–ª',
  albenianname: 'Ver√´ Imako 0,75l'
}
‚ö†Ô∏è Potential data inconsistency in product "Savex Premium Fresh Universal Detergent 5.5kg": detergent name with wine translations, but continuing with match
üîÑ Stage 6a: exact name match - Skipped duplicate product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 6a: exact name match - Product found: {
  id: '00GAOMXjQNgFXhjef5NA',
  name: 'Savex Premium Fresh Universal Detergent 5.5kg',
  macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
  albenianname: 'Detergjent Savex Premium Fresh 5.5kg'
}
üîÑ Stage 6a: exact name match - Skipped duplicate product: Savex Premium Fresh Universal Detergent 5.5kg
üîç Stage 6b: Searching name field with keyword: "savex"
üìä Stage 6a: Exact name match found 0 results
üìä Stage 6a: exact name match: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6a: exact name match: Found 0 results
üîç Stage 6b: Searching name field with keyword: "savex"
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'a0212bde-0415-465a-bca2-19b432ad47ed',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
üìä Stage 6b: Keyword "savex" found 0 results
üìä Stage 6b: name field keyword "savex": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "savex": Found 0 results
üîç Stage 6b: Searching name field with keyword: "premium"
üìä Stage 6b: Keyword "savex" found 0 results
üìä Stage 6b: name field keyword "savex": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "savex": Found 0 results
üîç Stage 6b: Searching name field with keyword: "premium"
üìä Stage 6b: Keyword "premium" found 0 results
üìä Stage 6b: name field keyword "premium": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "premium": Found 0 results
üîç Stage 6b: Searching name field with keyword: "color"
üìä Stage 6b: Keyword "premium" found 0 results
üìä Stage 6b: name field keyword "premium": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "premium": Found 0 results
üîç Stage 6b: Searching name field with keyword: "fresh"
üìä Stage 6b: Keyword "color" found 0 results
üìä Stage 6b: name field keyword "color": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "color": Found 0 results
üîç Stage 6b: Searching name field with keyword: "care"
üìä Stage 6b: Keyword "fresh" found 0 results
üìä Stage 6b: name field keyword "fresh": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "fresh": Found 0 results
üîç Stage 6b: Searching name field with keyword: "universal"
üìä Stage 6b: Keyword "care" found 0 results
üìä Stage 6b: name field keyword "care": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "care": Found 0 results
üîç Stage 6b: Searching name field with keyword: "detergent"
üìä Stage 6b: Keyword "universal" found 0 results
üìä Stage 6b: name field keyword "universal": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "universal": Found 0 results
üîç Stage 6b: Searching name field with keyword: "detergent"
üìä Stage 6b: Keyword "detergent" found 0 results
üìä Stage 6b: name field keyword "detergent": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "detergent": Found 0 results
üîç Stage 6b: Searching name field with keyword: "5kg"
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '93c5ac46-546c-4df3-a5a1-0f25df6f0f03',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
üìä Stage 6b: Keyword "detergent" found 0 results
üìä Stage 6b: name field keyword "detergent": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "detergent": Found 0 results
üîç Stage 6b: Searching name field with keyword: "5kg"
üìä Stage 6b: Keyword "5kg" found 0 results
üìä Stage 6b: name field keyword "5kg": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "5kg": Found 0 results
üîç Stage 6b: Searching name field with keyword: "68"
üìä Stage 6b: Keyword "5kg" found 0 results
üìä Stage 6b: name field keyword "5kg": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "5kg": Found 0 results
üîç Stage 6b: Searching name field with keyword: "68"
üìä Stage 6b: Keyword "68" found 0 results
üìä Stage 6b: name field keyword "68": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "68": Found 0 results
üîç Stage 6b: Searching name field with keyword: "washes"
üìä Stage 6b: Keyword "68" found 0 results
üìä Stage 6b: name field keyword "68": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "68": Found 0 results
üîç Stage 6b: Searching name field with keyword: "washes"
üìä Stage 6b: Keyword "washes" found 0 results
üìä Stage 6b: name field keyword "washes": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "washes": Found 0 results
üîç Stage 6b: Searching name field with keyword: "supreme"
üìä Stage 6b: Keyword "washes" found 0 results
üìä Stage 6b: name field keyword "washes": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "washes": Found 0 results
üîç Stage 6b: Searching name field with keyword: "supreme"
üìä Stage 6b: Keyword "supreme" found 0 results
üìä Stage 6b: name field keyword "supreme": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "supreme": Found 0 results
üîç Stage 6b: Searching name field with keyword: "clean"
üìä Stage 6b: Keyword "supreme" found 0 results
üìä Stage 6b: name field keyword "supreme": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "supreme": Found 0 results
üîç Stage 6b: Searching name field with keyword: "clean"
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '7df8f63b-9024-466a-a496-46fd3ec8669b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 24ms
üìä Stage 6b: Keyword "clean" found 0 results
üìä Stage 6b: name field keyword "clean": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "clean": Found 0 results
üîç Stage 7: Searching macedonianname field
üìä Stage 6b: Keyword "clean" found 0 results
üìä Stage 6b: name field keyword "clean": Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 6b: name field keyword "clean": Found 0 results
üîç Stage 7: Searching macedonianname field
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'b080667f-dd02-459d-b9c0-97d6d6d6ec70',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üîç Stage 8: Searching albenianname field
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'f45d8e50-85c5-42b6-9636-eda03a1936c5',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
üìä Stage 7: macedonianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 7: macedonianname field: Found 0 results
üîç Stage 8: Searching albenianname field
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '01eda143-4a00-4a4d-9c3c-4c26e252570d',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üîç Stage 9: Searching superMarketName field
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '537ece01-dc38-43f9-9bf8-fc31386e1633',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 8: albenianname field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 8: albenianname field: Found 0 results
üîç Stage 9: Searching superMarketName field
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '123b09f3-c00d-4b11-9db0-49dd47b563ea',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üîç Stage 10: Searching description field (fallback)
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'adbe5033-bef7-4a27-b228-4fb344b5d34e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
üìä Stage 9: superMarketName field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 9: superMarketName field: Found 0 results
üîç Stage 10: Searching description field (fallback)
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found 1 potential product matches
üìä SEARCH_SUCCESS - Found 1 matches for product: Savex Premium Fresh Universal Detergent 5.5kg
üìä SEARCH_RESULT_SUMMARY - Top matches: [
  {
    id: '00GAOMXjQNgFXhjef5NA',
    name: 'Savex Premium Fresh Universal Detergent 5.5kg',
    macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
    matchedVia: 'Stage 1: englishNameKeywords'
  }
]
‚úÖ Found 1 potential matches
üìä SEARCH_RESULTS - Search results summary: {
  parsedItemId: 'upojBzfqPEykorNGRrlW',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  resultCount: 1,
  topMatchIds: [ '00GAOMXjQNgFXhjef5NA' ],
  timestamp: '2025-08-21T09:06:16.138Z'
}
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
    op: 'StepRun',
    name: 'search-products',
    opts: {},
    displayName: 'search-products',
    data: [ [Object] ]
  }
} +50s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 50160ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +2ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V executing step "score-matches" +1ms
üß† Processing 1 potential matches for deduplication and AI scoring
‚è±Ô∏è Score matches step started at 2025-08-21T09:06:16.259Z
üîÑ Deduplicated from 1 to 1 unique products
üìä SCORING_START - Starting AI scoring with parameters: {
  parsedItemId: 'upojBzfqPEykorNGRrlW',
  productName: 'Savex Premium Fresh Universal Detergent 5.5kg',
  uniqueProductCount: 1,
  timestamp: '2025-08-21T09:06:16.260Z'
}
üîç Fetching active auto-approval rule using admin SDK
üöÄ AI scoring promise created at 2025-08-21T09:06:16.261Z
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found active auto-approval rule: 6LwmkueLAuQfQnxo1t8k
ü§ñ Starting Gemini API call at 2025-08-21T09:06:16.595Z
üìã Prompt length: 3794 characters
üìä Stage 10: description field: Found 0 results
üìä SEARCH_STAGE_RESULTS - Stage 10: description field: Found 0 results
‚úÖ Found 1 potential product matches
üìä SEARCH_SUCCESS - Found 1 matches for product: Savex Premium Color & Care Detergent 5.5kg
üìä SEARCH_RESULT_SUMMARY - Top matches: [
  {
    id: '00GAOMXjQNgFXhjef5NA',
    name: 'Savex Premium Fresh Universal Detergent 5.5kg',
    macedonianname: '–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥',
    matchedVia: 'Stage 1: englishNameKeywords'
  }
]
‚úÖ Found 1 potential matches
üìä SEARCH_RESULTS - Search results summary: {
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  resultCount: 1,
  topMatchIds: [ '00GAOMXjQNgFXhjef5NA' ],
  timestamp: '2025-08-21T09:06:16.809Z'
}
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
    op: 'StepRun',
    name: 'search-products',
    opts: {},
    displayName: 'search-products',
    data: [ [Object] ]
  }
} +52s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 51884ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 executing step "score-matches" +0ms
üß† Processing 1 potential matches for deduplication and AI scoring
‚è±Ô∏è Score matches step started at 2025-08-21T09:06:16.858Z
üîÑ Deduplicated from 1 to 1 unique products
üìä SCORING_START - Starting AI scoring with parameters: {
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU',
  productName: 'Savex Premium Color & Care Detergent 5.5kg',
  uniqueProductCount: 1,
  timestamp: '2025-08-21T09:06:16.858Z'
}
üîç Fetching active auto-approval rule using admin SDK
üöÄ AI scoring promise created at 2025-08-21T09:06:16.859Z
‚úÖ Found active auto-approval rule: 6LwmkueLAuQfQnxo1t8k
ü§ñ Starting Gemini API call at 2025-08-21T09:06:17.170Z
üìã Prompt length: 3782 characters
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'ec516cf5-2434-4e23-808d-65c03d9bcea4',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 30ms
‚úÖ Gemini API call completed at 2025-08-21T09:06:20.228Z
üìÑ Received response of length: 324 characters
ü§ñ Raw Gemini response length: 324
‚úÖ Found 1 valid matches after filtering
üèÅ Product matching completed with 1 matches
Match #1: productId=00GAOMXjQNgFXhjef5NA, score=0.95, can_auto_merge=true
üéØ AI scoring completed at 2025-08-21T09:06:20.232Z with 1 scored matches
‚è±Ô∏è Score matches step completed at 2025-08-21T09:06:20.232Z
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
    op: 'StepRun',
    name: 'score-matches',
    opts: {},
    displayName: 'score-matches',
    data: [ [Object] ]
  }
} +4s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 4004ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, size, and category.",
    "matchedAt": {
      "_seconds": 1755767180,
      "_nanoseconds": 305000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +6ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V executing step "check-auto-approval" +0ms
üìä Checking auto-approval for 1 potential matches
üîç Auto-approval workflow step started at 2025-08-21T09:06:20.307Z
üìã Parsed item ID: upojBzfqPEykorNGRrlW
‚è±Ô∏è Setting auto-approval timeout to 30 seconds
Match #1: productId=00GAOMXjQNgFXhjef5NA, relevanceScore=0.95, reason=Strong name similarity, matching brand, size, and category.
üöÄ Auto-approval approved for product: 00GAOMXjQNgFXhjef5NA with confidence 0.95
üìù Reason: Strong name similarity, matching brand, size, and category.
‚úÖ Auto-approval completed successfully at 2025-08-21T09:06:20.307Z
‚è±Ô∏è Auto-approval step completed at 2025-08-21T09:06:20.307Z
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '264b57991efed85f2e14313161ab14957e9cb996',
    op: 'StepRun',
    name: 'check-auto-approval',
    opts: {},
    displayName: 'check-auto-approval',
    data: {
      shouldAutoApprove: true,
      productId: '00GAOMXjQNgFXhjef5NA',
      reasoning: 'Auto-approved based on high relevance score of 0.95',
      confidence: 0.95
    }
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 29ms
‚úÖ Gemini API call completed at 2025-08-21T09:06:20.434Z
üìÑ Received response of length: 368 characters
ü§ñ Raw Gemini response length: 368
‚úÖ Found 1 valid matches after filtering
üèÅ Product matching completed with 1 matches
Match #1: productId=00GAOMXjQNgFXhjef5NA, score=0.85, can_auto_merge=true
üéØ AI scoring completed at 2025-08-21T09:06:20.434Z with 1 scored matches
‚è±Ô∏è Score matches step completed at 2025-08-21T09:06:20.434Z
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
    op: 'StepRun',
    name: 'score-matches',
    opts: {},
    displayName: 'score-matches',
    data: [ [Object] ]
  }
} +4s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 3604ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, size, and category.",
    "matchedAt": {
      "_seconds": 1755767180,
      "_nanoseconds": 460000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +5ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V executing step "save-matches-and-auto-approve" +1ms
üíæ Saving 1 matches to database
‚è±Ô∏è Save matches step started at 2025-08-21T09:06:20.464Z
‚úÖ Validated 1 matches for Firestore update
üîç Sample match structure: {"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.95,"matchReason":"Strong name similarity, matching brand, size, and category.","matchedAt":{"_seconds":1755767180,"_nanoseconds":460000000},"prod...
üöÄ Auto-approved and applied to product: 00GAOMXjQNgFXhjef5NA
üìù Status set to: applied_to_product
üìù Updating parsed flyer item upojBzfqPEykorNGRrlW
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755767180,
      "_nanoseconds": 602000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +4ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 executing step "check-auto-approval" +1ms
üìä Checking auto-approval for 1 potential matches
üîç Auto-approval workflow step started at 2025-08-21T09:06:20.604Z
üìã Parsed item ID: uHHkjzm7t5BifXpVYNkU
‚è±Ô∏è Setting auto-approval timeout to 30 seconds
Match #1: productId=00GAOMXjQNgFXhjef5NA, relevanceScore=0.85, reason=Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Universal).
üöÄ Auto-approval approved for product: 00GAOMXjQNgFXhjef5NA with confidence 0.85
üìù Reason: Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Universal).
‚úÖ Auto-approval completed successfully at 2025-08-21T09:06:20.605Z
‚è±Ô∏è Auto-approval step completed at 2025-08-21T09:06:20.605Z
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '264b57991efed85f2e14313161ab14957e9cb996',
    op: 'StepRun',
    name: 'check-auto-approval',
    opts: {},
    displayName: 'check-auto-approval',
    data: {
      shouldAutoApprove: true,
      productId: '00GAOMXjQNgFXhjef5NA',
      reasoning: 'Auto-approved based on high relevance score of 0.85',
      confidence: 0.85
    }
  }
} +2ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 29ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755767180,
      "_nanoseconds": 751000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'steps-found',
  steps: [
    {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  ]
} +3ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 executing step "save-matches-and-auto-approve" +1ms
üíæ Saving 1 matches to database
‚è±Ô∏è Save matches step started at 2025-08-21T09:06:20.753Z
‚úÖ Validated 1 matches for Firestore update
üîç Sample match structure: {"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.85,"matchReason":"Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Univer...
üöÄ Auto-approved and applied to product: 00GAOMXjQNgFXhjef5NA
üìù Status set to: applied_to_product
üìù Updating parsed flyer item uHHkjzm7t5BifXpVYNkU
üîç Update data structure check: {"matchedProducts":[{"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.95,"matchReason":"Strong name similarity, matching brand, size, and category.","matchedAt":{"_seconds":1755767180,"_nanosecon...
üîç Update data structure check: {"matchedProducts":[{"productId":"00GAOMXjQNgFXhjef5NA","relevanceScore":0.85,"matchReason":"Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & C...
‚úÖ Successfully updated parsed flyer item upojBzfqPEykorNGRrlW
‚úÖ Successfully saved matches and status for item upojBzfqPEykorNGRrlW
üèÅ Auto-approval status set to: success
üìä Auto-approval fields: {"status":"success","reason":"Auto-approved based on high relevance score of 0.95","confidence":0.95}
‚è±Ô∏è Auto-discount application step started at 2025-08-21T09:06:21.455Z
‚ÑπÔ∏è Starting discount application [DISCOUNT_START] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'upojBzfqPEykorNGRrlW',
  storeId: 'auto-approval',
  matchConfidence: 0.95,
  startTime: '2025-08-21T09:06:21.455Z'
}
‚úÖ Successfully updated parsed flyer item uHHkjzm7t5BifXpVYNkU
‚úÖ Successfully saved matches and status for item uHHkjzm7t5BifXpVYNkU
üèÅ Auto-approval status set to: success
üìä Auto-approval fields: {"status":"success","reason":"Auto-approved based on high relevance score of 0.85","confidence":0.85}
‚è±Ô∏è Auto-discount application step started at 2025-08-21T09:06:21.584Z
‚ÑπÔ∏è Starting discount application [DISCOUNT_START] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'uHHkjzm7t5BifXpVYNkU',
  storeId: 'auto-approval',
  matchConfidence: 0.85,
  startTime: '2025-08-21T09:06:21.584Z'
}
‚ÑπÔ∏è Applied 30% discount to product 00GAOMXjQNgFXhjef5NA [SUCCESS] {
  flyerId: 'upojBzfqPEykorNGRrlW',
  storeId: 'auto-approval',
  newPrice: 0.33,
  timestamp: '2025-08-21T09:06:22.911Z'
}
‚ÑπÔ∏è Auto-applied discount completed [DISCOUNT_SUCCESS] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'upojBzfqPEykorNGRrlW',
  elapsedMs: 1456,
  result: {
    success: true,
    productId: '00GAOMXjQNgFXhjef5NA',
    originalPrice: 0.47,
    newPrice: 0.33,
    discountPercentage: 30
  },
  timestamp: '2025-08-21T09:06:22.911Z'
}
üìù Auto-discount application step completed [DISCOUNT_COMPLETE] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'upojBzfqPEykorNGRrlW',
  elapsedMs: 1456,
  timestamp: '2025-08-21T09:06:22.911Z'
}
‚úÖ Auto-discount application completed at 2025-08-21T09:06:22.912Z
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '687d47a29ee00581fe23db572f967bf594c82738',
    op: 'StepRun',
    name: 'save-matches-and-auto-approve',
    opts: {},
    displayName: 'save-matches-and-auto-approve',
    data: null
  }
} +2s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 2484ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '687d47a29ee00581fe23db572f967bf594c82738',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V starting V1 execution +1ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
  parsedItemId: 'upojBzfqPEykorNGRrlW'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.95,
    "matchReason": "Strong name similarity, matching brand, size, and category.",
    "matchedAt": {
      "_seconds": 1755767183,
      "_nanoseconds": 0
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
‚úÖ Total execution time: 3ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V checkpoint: {
  type: 'function-resolved',
  data: {
    success: true,
    parsedItemId: 'upojBzfqPEykorNGRrlW',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 3
  }
} +3ms
  inngest:01K35Y0AZR30K2XNCYPAPKNN9V result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARKW5BJ4YTY9ANA3AMP',
      name: 'flyer/product-match',
      ts: 1755767122707,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZR30K2XNCYPAPKNN9V',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    success: true,
    parsedItemId: 'upojBzfqPEykorNGRrlW',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 3
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 200 in 25ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '9987893c-9c4d-4805-aa44-5d437598c31e',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 20ms
‚ÑπÔ∏è Applied 30% discount to product 00GAOMXjQNgFXhjef5NA [SUCCESS] {
  flyerId: 'uHHkjzm7t5BifXpVYNkU',
  storeId: 'auto-approval',
  newPrice: 0.23,
  timestamp: '2025-08-21T09:06:25.450Z'
}
‚ÑπÔ∏è Auto-applied discount completed [DISCOUNT_SUCCESS] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'uHHkjzm7t5BifXpVYNkU',
  elapsedMs: 3866,
  result: {
    success: true,
    productId: '00GAOMXjQNgFXhjef5NA',
    originalPrice: 0.33,
    newPrice: 0.23,
    discountPercentage: 30
  },
  timestamp: '2025-08-21T09:06:25.450Z'
}
üìù Auto-discount application step completed [DISCOUNT_COMPLETE] {
  productId: '00GAOMXjQNgFXhjef5NA',
  flyerId: 'uHHkjzm7t5BifXpVYNkU',
  elapsedMs: 3866,
  timestamp: '2025-08-21T09:06:25.450Z'
}
‚úÖ Auto-discount application completed at 2025-08-21T09:06:25.451Z
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'step-ran',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: false,
      hasStepState: false,
      handled: false,
      handle: [Function: handle]
    }
  },
  step: {
    id: '687d47a29ee00581fe23db572f967bf594c82738',
    op: 'StepRun',
    name: 'save-matches-and-auto-approve',
    opts: {},
    displayName: 'save-matches-and-auto-approve',
    data: null
  }
} +5s
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 206 in 4722ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 created new V1 execution for run; discovering steps +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 existing state keys: [
  '264b57991efed85f2e14313161ab14957e9cb996',
  '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
  '687d47a29ee00581fe23db572f967bf594c82738',
  '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
  'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d'
] +0ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 starting V1 execution +0ms
üîÑ PRODUCT MATCHING WORKFLOW STARTED {
  eventId: '01K35Y0ARCH5JWXAB2M688K4PD',
  parsedItemId: 'uHHkjzm7t5BifXpVYNkU'
}
Final Matched Products: [
  {
    "productId": "00GAOMXjQNgFXhjef5NA",
    "relevanceScore": 0.85,
    "matchReason": "Strong name similarity (Savex Premium, 5.5kg), same category, and same brand. Differs in variant (Color & Care vs. Fresh Universal).",
    "matchedAt": {
      "_seconds": 1755767185,
      "_nanoseconds": 551000000
    },
    "productData": {
      "albenianname": "Detergjent Savex Premium Fresh 5.5kg",
      "categoryId": "cleaning-products",
      "discountPercentage": 30,
      "iconUrl": "https://firebasestorage.googleapis.com/v0/b/badiyala-6c3e1.appspot.com/o/images%2Fproducts%2Fsavex-1708610483836.PNG?alt=media&token=abc123",
      "imageUrl": "",
      "macedonianname": "–°–∞–≤–µ–∫—Å –ü—Ä–µ–º–∏—É–º –§—Ä–µ—à –£–Ω–∏–≤–µ—Ä–∑–∞–ª–µ–Ω –î–µ—Ç–µ—Ä–≥–µ–Ω—Ç 5.5–∫–≥",
      "name": "Savex Premium Fresh Universal Detergent 5.5kg",
      "newPrice": 0.47,
      "oldPrice": "289",
      "productId": "00GAOMXjQNgFXhjef5NA",
      "superMarketName": "RAMSTORE"
    }
  }
]
‚úÖ Total execution time: 1ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 checkpoint: {
  type: 'function-resolved',
  data: {
    success: true,
    parsedItemId: 'uHHkjzm7t5BifXpVYNkU',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 1
  }
} +1ms
  inngest:01K35Y0AZKXT1K4D9CK91GKWC6 result: {
  type: 'function-resolved',
  ctx: {
    event: {
      data: [Object],
      id: '01K35Y0ARCH5JWXAB2M688K4PD',
      name: 'flyer/product-match',
      ts: 1755767122700,
      user: {}
    },
    events: [ [Object] ],
    runId: '01K35Y0AZKXT1K4D9CK91GKWC6',
    attempt: 0,
    step: {
      sendEvent: [AsyncFunction (anonymous)],
      waitForSignal: [AsyncFunction (anonymous)],
      sendSignal: [AsyncFunction (anonymous)],
      waitForEvent: [AsyncFunction (anonymous)],
      run: [AsyncFunction (anonymous)],
      ai: [Object],
      sleep: [AsyncFunction (anonymous)],
      sleepUntil: [AsyncFunction (anonymous)],
      invoke: [AsyncFunction (anonymous)],
      fetch: [AsyncFunction],
      [Symbol(inngest.step.gateway)]: [AsyncFunction (anonymous)]
    },
    logger: ProxyLogger { enabled: true, logger: DefaultLogger {} }
  },
  ops: {
    'update-status-to-processing': {
      id: 'update-status-to-processing',
      op: 'StepPlanned',
      name: 'update-status-to-processing',
      displayName: 'update-status-to-processing',
      opts: {},
      rawArgs: [Array],
      hashedId: 'd00ed8ad3f033bcbd62b1f182ab7fd0abc152f5d',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'search-products': {
      id: 'search-products',
      op: 'StepPlanned',
      name: 'search-products',
      displayName: 'search-products',
      opts: {},
      rawArgs: [Array],
      hashedId: '68c878c636e3b59bb8a58c6dfa4fe6c333d685d5',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'score-matches': {
      id: 'score-matches',
      op: 'StepPlanned',
      name: 'score-matches',
      displayName: 'score-matches',
      opts: {},
      rawArgs: [Array],
      hashedId: '59fbb86e379cc6e59609c356a33c3a8e50976aeb',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'check-auto-approval': {
      id: 'check-auto-approval',
      op: 'StepPlanned',
      name: 'check-auto-approval',
      displayName: 'check-auto-approval',
      opts: {},
      rawArgs: [Array],
      hashedId: '264b57991efed85f2e14313161ab14957e9cb996',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    },
    'save-matches-and-auto-approve': {
      id: 'save-matches-and-auto-approve',
      op: 'StepPlanned',
      name: 'save-matches-and-auto-approve',
      displayName: 'save-matches-and-auto-approve',
      opts: {},
      rawArgs: [Array],
      hashedId: '687d47a29ee00581fe23db572f967bf594c82738',
      input: undefined,
      fn: [Function (anonymous)],
      promise: [Promise],
      fulfilled: true,
      hasStepState: true,
      handled: true,
      handle: [Function: handle]
    }
  },
  data: {
    success: true,
    parsedItemId: 'uHHkjzm7t5BifXpVYNkU',
    matchedProducts: 1,
    autoApproved: true,
    executionTimeMs: 1
  }
} +1ms
 POST /api/inngest?fnId=badiyala-flyer-parser-match-products&stepId=step 200 in 22ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '2a24aeac-ca22-4af7-b373-ee5757abb66b',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 27ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': 'fb12510c-3b81-4598-8618-2f98e5d2fecd',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 31ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '0f6dd0bb-3ad1-4cee-8278-15782221d7c2',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 29ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '2be7d970-d114-4d6a-a046-fa605c0873ab',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 32ms
[Inngest] debug - registered inngest functions: 200 OK {
  ok: true,
  modified: false,
  'sync_id.omitempty': '8c0caf41-a2a9-42e4-8251-634ced27a129',
  app_id: 'ed1dd999-5829-5a8a-b82a-e8258ddeb289'
}
 PUT /api/inngest 200 in 28ms
